(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(5106)}])},5106:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return J}});var i=a(828),r=a(9815),s=a(5893),l=a(7294),n=a(1867),o=a.n(n),d=a(450);function c(e){var t=e.children,a=e.title,i=e.homeRoute;return(0,s.jsxs)("header",{className:o().header,children:[(0,s.jsxs)(d.wp,{color:"dark",dark:!0,children:[(0,s.jsxs)(d.UG,{href:i||void 0,className:"me-auto",children:[a," \xa0"]}),t]}),(0,s.jsx)("div",{className:"spacer2"})]})}var m=a(6486),u=a.n(m),h=a(1944);function p(e){var t=e.setTrendData,a=(0,l.useState)(!1),i=a[0],r=a[1],n=(0,l.useRef)((function(){r((function(e){return!e}))})).current,o=(0,l.useMemo)((function(){return u().debounce((function(e){try{var a=e.target.value,i=(0,h.Q)(a,{delimiter:"\t",trim:!0,skip_empty_lines:!0}).map((function(e){return{item:e[0],popularity:e[1],supply:e[2],demandShift:e[3]}}));t((function(){return new Map(i.map((function(e){return[e.item,e]})))}))}catch(r){console.error(r)}}),200)}),[t]);return(0,l.useEffect)((function(){return function(){return o.cancel()}}),[o]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.zx,{color:"primary",onClick:n,children:"Import Trends"}),(0,s.jsxs)(d.u_,{isOpen:i,toggle:n,size:"lg",centered:!0,children:[(0,s.jsx)(d.xB,{toggle:n,children:"Trend Data"}),(0,s.jsxs)(d.fe,{children:[(0,s.jsxs)("div",{children:["Import tab-separated value column order:",(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Product Name"}),(0,s.jsx)("li",{children:"Popularity"}),(0,s.jsx)("li",{children:"Supply"}),(0,s.jsx)("li",{children:"Demand Shift (optional)"})]})]}),(0,s.jsx)(d.II,{id:"trend-data",type:"textarea",style:{minHeight:"200px"},onChange:o})]})]})]})}var y=a(1799),I=a(9396),f=a(9008),k=a.n(f),x=a(8826),C=a.n(x);function v(e){return e.color?"bg-".concat(e.color):""}function j(e){var t=e.children,a=e.layoutProps,i=(0,l.useState)(void 0),r=i[0],n=i[1];return(0,l.useEffect)((function(){n(a.toastConfig)}),[a.toastConfig]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(k(),{children:[(0,s.jsx)("title",{children:a.title}),(0,s.jsx)("meta",{name:"description",content:a.description}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),t,r&&(0,s.jsx)("div",{className:"".concat(C().toast," ").concat(v(r)),children:(0,s.jsxs)(d.FN,{isOpen:!!r.isVisible,children:[(0,s.jsx)(d.WV,{toggle:function(){n((0,I.Z)((0,y.Z)({},r),{isVisible:!1}))},children:r.header}),!!r.body&&(0,s.jsx)(d.Yo,{children:r.body})]})}),(0,s.jsx)("footer",{children:(0,s.jsxs)("div",{className:C().footer,children:[(0,s.jsxs)("div",{children:["2022 \xa9 ",(0,s.jsx)("a",{href:"https://github.com/ban-lee/ffxiv-island-sanctuary",children:"Ban Lee"})]}),(0,s.jsxs)("div",{children:["Created using data from Nekkowe's ",(0,s.jsx)("a",{href:"https://docs.google.com/spreadsheets/d/1e5dyaHSt5lj25l3nFWO5QcPmAJ2aAoPxCWj-iZnKxRk/edit#gid=1283864903",children:"Island Sanctuary Workshop Sheet"}),"!"]})]})})]})}var w=a(4703),_=a.n(w),S=a(4279),q=a.n(S);function g(e){var t=e.option,a=e.onClose;return(0,s.jsxs)("div",{className:"".concat(q().chip," ").concat(t.color||"gray"),children:[(0,s.jsx)("div",{className:"".concat(q()["chip-text"]),children:t.text}),!!a&&(0,s.jsx)("div",{className:q()["chip-close"],children:(0,s.jsx)(d.zx,{className:"".concat(q()["chip-close-btn"]),type:"button",onClick:a,children:(0,s.jsx)("i",{className:"bi-x-circle-fill"})})})]})}var N,b,E,O=JSON.parse('{"R":[{"id":1,"item":"Isleworks Potion","material1":{"id":0,"qty":2,"item":"Island Palm Leaf"},"material2":{"id":7,"qty":2,"item":"Islewort"},"purposeCat":"Concoctions","materialCat":"","rank":1,"time":4,"value":28},{"id":2,"item":"Isleworks Firesand","material1":{"id":8,"qty":2,"item":"Island Sand"},"material2":{"id":14,"qty":1,"item":"Island Limestone"},"purposeCat":"Concoctions","materialCat":"Unburied Treasures","rank":1,"time":4,"value":28,"material3":{"id":7,"qty":1,"item":"Islewort"}},{"id":3,"item":"Isleworks Wooden Chair","material1":{"id":9,"qty":4,"item":"Island Log"},"material2":{"id":11,"qty":2,"item":"Island Vine"},"purposeCat":"Furnishings","materialCat":"Woodworks","rank":1,"time":6,"value":42},{"id":4,"item":"Isleworks Grilled Clam","material1":{"id":4,"qty":2,"item":"Island Clam"},"material2":{"id":5,"qty":2,"item":"Island Laver"},"purposeCat":"Foodstuffs","materialCat":"Marine Merchandise","rank":1,"time":4,"value":28},{"id":5,"item":"Isleworks Necklace","material1":{"id":2,"qty":3,"item":"Island Branch"},"material2":{"id":11,"qty":1,"item":"Island Vine"},"purposeCat":"Accessories","materialCat":"Woodworks","rank":1,"time":4,"value":28},{"id":6,"item":"Isleworks Coral Ring","material1":{"id":6,"qty":3,"item":"Island Coral"},"material2":{"id":11,"qty":3,"item":"Island Vine"},"purposeCat":"Accessories","materialCat":"Marine Merchandise","rank":1,"time":6,"value":42},{"id":7,"item":"Isleworks Barbut","material1":{"id":13,"qty":3,"item":"Island Copper Ore"},"material2":{"id":8,"qty":3,"item":"Island Sand"},"purposeCat":"Attire","materialCat":"Metalworks","rank":1,"time":6,"value":42},{"id":8,"item":"Isleworks Macuahuitl","material1":{"id":10,"qty":3,"item":"Island Palm Log"},"material2":{"id":3,"qty":3,"item":"Island Stone"},"purposeCat":"Arms","materialCat":"Woodworks","rank":1,"time":6,"value":42},{"id":9,"item":"Isleworks Sauerkraut","material1":{"id":43,"qty":1,"item":"Island Cabbage"},"material2":{"id":15,"qty":3,"item":"Island Rock Salt"},"purposeCat":"Preserved Food","materialCat":"","rank":1,"time":4,"value":40},{"id":10,"item":"Isleworks Baked Pumpkin","material1":{"id":45,"qty":1,"item":"Island Pumpkin"},"material2":{"id":12,"qty":3,"item":"Island Sap"},"purposeCat":"Foodstuffs","materialCat":"","rank":1,"time":4,"value":40},{"id":11,"item":"Isleworks Tunic","material1":{"id":52,"qty":2,"item":"Sanctuary Fleece"},"material2":{"id":11,"qty":4,"item":"Island Vine"},"purposeCat":"Attire","materialCat":"Textiles","rank":1,"time":6,"value":72},{"id":12,"item":"Isleworks Culinary Knife","material1":{"id":53,"qty":1,"item":"Sanctuary Claw"},"material2":{"id":10,"qty":3,"item":"Island Palm Log"},"purposeCat":"Sundries","materialCat":"Creature Creations","rank":1,"time":4,"value":44},{"id":13,"item":"Isleworks Brush","material1":{"id":54,"qty":1,"item":"Sanctuary Fur"},"material2":{"id":10,"qty":3,"item":"Island Palm Log"},"purposeCat":"Sundries","materialCat":"Woodworks","rank":1,"time":4,"value":44},{"id":14,"item":"Isleworks Boiled Egg","material1":{"id":56,"qty":1,"item":"Sanctuary Egg"},"material2":{"id":5,"qty":3,"item":"Island Laver"},"purposeCat":"Foodstuffs","materialCat":"Creature Creations","rank":1,"time":4,"value":44},{"id":15,"item":"Isleworks Hora","material1":{"id":57,"qty":2,"item":"Sanctuary Carapace"},"material2":{"id":3,"qty":4,"item":"Island Stone"},"purposeCat":"Arms","materialCat":"Creature Creations","rank":1,"time":6,"value":72},{"id":16,"item":"Isleworks Earrings","material1":{"id":58,"qty":1,"item":"Sanctuary Fang"},"material2":{"id":11,"qty":3,"item":"Island Vine"},"purposeCat":"Accessories","materialCat":"Creature Creations","rank":1,"time":4,"value":44},{"id":17,"item":"Isleworks Butter","material1":{"id":60,"qty":1,"item":"Sanctuary Milk"},"material2":{"id":15,"qty":3,"item":"Island Rock Salt"},"purposeCat":"Ingredients","materialCat":"Creature Creations","rank":1,"time":4,"value":44},{"id":18,"item":"Isleworks Brick Counter","material1":{"id":19,"qty":2,"item":"Island Clay"},"material2":{"id":14,"qty":2,"item":"Island Limestone"},"purposeCat":"Furnishings","materialCat":"Unburied Treasures","rank":5,"time":6,"value":48,"material3":{"id":10,"qty":2,"item":"Island Palm Log"}},{"id":19,"item":"Bronze Sheep","material1":{"id":20,"qty":3,"item":"Island Tinsand"},"material2":{"id":13,"qty":3,"item":"Island Copper Ore"},"purposeCat":"Furnishings","materialCat":"Metalworks","rank":5,"time":8,"value":64,"material3":{"id":9,"qty":2,"item":"Island Log"}},{"id":20,"item":"Isleworks Growth Formula","material1":{"id":27,"qty":2,"item":"Island Alyssum"},"material2":{"id":7,"qty":3,"item":"Islewort"},"purposeCat":"Concoctions","materialCat":"","rank":5,"time":8,"value":136,"material3":{"id":2,"qty":3,"item":"Island Branch"}},{"id":21,"item":"Isleworks Garnet Rapier","material1":{"id":28,"qty":2,"item":"Raw Island Garnet"},"material2":{"id":13,"qty":3,"item":"Island Copper Ore"},"purposeCat":"Arms","materialCat":"Unburied Treasures","rank":5,"time":8,"value":136,"material3":{"id":20,"qty":3,"item":"Island Tinsand"}},{"id":22,"item":"Isleworks Spruce Round Shield","material1":{"id":29,"qty":2,"item":"Island Spruce Log"},"material2":{"id":13,"qty":3,"item":"Island Copper Ore"},"purposeCat":"Attire","materialCat":"Woodworks","rank":5,"time":8,"value":136,"material3":{"id":3,"qty":3,"item":"Island Stone"}},{"id":23,"item":"Isleworks Shark Oil","material1":{"id":30,"qty":2,"item":"Island Hammerhead"},"material2":{"id":5,"qty":3,"item":"Island Laver"},"purposeCat":"Sundries","materialCat":"Marine Merchandise","rank":5,"time":8,"value":136,"material3":{"id":12,"qty":3,"item":"Island Sap"}},{"id":24,"item":"Isleworks Silver Ear Cuffs","material1":{"id":31,"qty":2,"item":"Island Silver Ore"},"material2":{"id":20,"qty":3,"item":"Island Tinsand"},"purposeCat":"Accessories","materialCat":"Metalworks","rank":5,"time":8,"value":136,"material3":{"id":6,"qty":3,"item":"Island Coral"}},{"id":25,"item":"Isleworks Sweet Popoto","material1":{"id":42,"qty":2,"item":"Island Popoto"},"material2":{"id":60,"qty":1,"item":"Sanctuary Milk"},"purposeCat":"Confections","materialCat":"","rank":5,"time":6,"value":72,"material3":{"id":12,"qty":3,"item":"Island Sap"}},{"id":26,"item":"Isleworks Parsnip Salad","material1":{"id":50,"qty":2,"item":"Island Parsnip"},"material2":{"id":7,"qty":1,"item":"Islewort"},"purposeCat":"Foodstuffs","materialCat":"","rank":5,"time":4,"value":48,"material3":{"id":12,"qty":1,"item":"Island Sap"}},{"id":27,"item":"Isleworks Caramels","material1":{"id":16,"qty":4,"item":"Island Sugarcane"},"material2":{"id":60,"qty":2,"item":"Sanctuary Milk"},"purposeCat":"Confections","materialCat":"","rank":6,"time":6,"value":81},{"id":28,"item":"Isleworks Ribbon","material1":{"id":17,"qty":2,"item":"Island Cotton Boll"},"material2":{"id":13,"qty":2,"item":"Island Copper Ore"},"purposeCat":"Accessories","materialCat":"Textiles","rank":6,"time":6,"value":54,"material3":{"id":11,"qty":2,"item":"Island Vine"}},{"id":29,"item":"Isleworks Rope","material1":{"id":18,"qty":2,"item":"Island Hemp"},"material2":{"id":7,"qty":1,"item":"Islewort"},"purposeCat":"Sundries","materialCat":"Textiles","rank":6,"time":4,"value":36,"material3":{"id":11,"qty":1,"item":"Island Vine"}},{"id":30,"item":"Isleworks Cavalier\'s Hat","material1":{"id":55,"qty":2,"item":"Sanctuary Feather"},"material2":{"id":17,"qty":2,"item":"Island Cotton Boll"},"purposeCat":"Attire","materialCat":"Textiles","rank":6,"time":6,"value":81,"material3":{"id":18,"qty":2,"item":"Island Hemp"}},{"id":31,"item":"Isleworks Horn","material1":{"id":59,"qty":2,"item":"Sanctuary Horn"},"material2":{"id":19,"qty":2,"item":"Island Clay"},"purposeCat":"Sundries","materialCat":"Creature Creations","rank":6,"time":6,"value":81,"material3":{"id":18,"qty":2,"item":"Island Hemp"}},{"id":32,"item":"Isleworks Salt Cod","material1":{"id":24,"qty":4,"item":"Islefish"},"material2":{"id":15,"qty":2,"item":"Island Rock Salt"},"purposeCat":"Preserved Food","materialCat":"Marine Merchandise","rank":7,"time":6,"value":54},{"id":33,"item":"Isleworks Squid Ink","material1":{"id":25,"qty":2,"item":"Island Squid"},"material2":{"id":15,"qty":2,"item":"Island Rock Salt"},"purposeCat":"Ingredients","materialCat":"Marine Merchandise","rank":7,"time":4,"value":36},{"id":34,"item":"Isleworks Essential Draught","material1":{"id":26,"qty":2,"item":"Island Jellyfish"},"material2":{"id":0,"qty":2,"item":"Island Palm Leaf"},"purposeCat":"Concoctions","materialCat":"Marine Merchandise","rank":7,"time":6,"value":54,"material3":{"id":5,"qty":2,"item":"Island Laver"}},{"id":35,"item":"Isleberry Jam","material1":{"id":44,"qty":3,"item":"Isleberry"},"material2":{"id":16,"qty":2,"item":"Island Sugarcane"},"purposeCat":"Ingredients","materialCat":"","rank":7,"time":6,"value":78,"material3":{"id":12,"qty":1,"item":"Island Sap"}},{"id":36,"item":"Isleworks Tomato Relish","material1":{"id":47,"qty":2,"item":"Island Tomato"},"material2":{"id":16,"qty":1,"item":"Island Sugarcane"},"purposeCat":"Ingredients","materialCat":"","rank":7,"time":4,"value":52,"material3":{"id":7,"qty":1,"item":"Islewort"}},{"id":37,"item":"Isleworks Onion Soup","material1":{"id":46,"qty":3,"item":"Island Onion"},"material2":{"id":15,"qty":2,"item":"Island Rock Salt"},"purposeCat":"Foodstuffs","materialCat":"","rank":7,"time":6,"value":78,"material3":{"id":7,"qty":1,"item":"Islewort"}},{"id":38,"item":"Islefish Pie","material1":{"id":48,"qty":3,"item":"Island Wheat"},"material2":{"id":24,"qty":2,"item":"Islefish"},"purposeCat":"Confections","materialCat":"Marine Merchandise","rank":7,"time":6,"value":78,"material3":{"id":16,"qty":1,"item":"Island Sugarcane"}},{"id":39,"item":"Isleworks Corn Flakes","material1":{"id":49,"qty":2,"item":"Island Corn"},"material2":{"id":16,"qty":2,"item":"Island Sugarcane"},"purposeCat":"Preserved Food","materialCat":"","rank":7,"time":4,"value":52},{"id":40,"item":"Isleworks Pickled Radish","material1":{"id":51,"qty":4,"item":"Island Radish"},"material2":{"id":1,"qty":2,"item":"Island Apple"},"purposeCat":"Preserved Food","materialCat":"","rank":7,"time":8,"value":104,"material3":{"id":16,"qty":2,"item":"Island Sugarcane"}},{"id":41,"item":"Isleworks Iron Axe","material1":{"id":21,"qty":3,"item":"Island Iron Ore"},"material2":{"id":9,"qty":3,"item":"Island Log"},"purposeCat":"Arms","materialCat":"Metalworks","rank":8,"time":8,"value":72,"material3":{"id":8,"qty":2,"item":"Island Sand"}},{"id":42,"item":"Isleworks Quartz Ring","material1":{"id":22,"qty":3,"item":"Island Quartz"},"material2":{"id":21,"qty":3,"item":"Island Iron Ore"},"purposeCat":"Accessories","materialCat":"Unburied Treasures","rank":8,"time":8,"value":72,"material3":{"id":3,"qty":2,"item":"Island Stone"}},{"id":43,"item":"Isleworks Porcelain Vase","material1":{"id":23,"qty":3,"item":"Island Leucogranite"},"material2":{"id":22,"qty":3,"item":"Island Quartz"},"purposeCat":"Sundries","materialCat":"Unburied Treasures","rank":8,"time":8,"value":72,"material3":{"id":19,"qty":2,"item":"Island Clay"}},{"id":44,"item":"Isleworks Vegetable Juice","material1":{"id":43,"qty":3,"item":"Island Cabbage"},"material2":{"id":7,"qty":2,"item":"Islewort"},"purposeCat":"Concoctions","materialCat":"","rank":8,"time":6,"value":78,"material3":{"id":5,"qty":1,"item":"Island Laver"}},{"id":45,"item":"Isleworks Pumpkin Pudding","material1":{"id":45,"qty":3,"item":"Island Pumpkin"},"material2":{"id":56,"qty":1,"item":"Sanctuary Egg"},"purposeCat":"Confections","materialCat":"","rank":8,"time":6,"value":78,"material3":{"id":60,"qty":1,"item":"Sanctuary Milk"}},{"id":46,"item":"Isleworks Sheepfluff Rug","material1":{"id":52,"qty":3,"item":"Sanctuary Fleece"},"material2":{"id":17,"qty":2,"item":"Island Cotton Boll"},"purposeCat":"Furnishings","materialCat":"Creature Creations","rank":8,"time":6,"value":90,"material3":{"id":18,"qty":1,"item":"Island Hemp"}},{"id":47,"item":"Isleworks Garden Scythe","material1":{"id":53,"qty":3,"item":"Sanctuary Claw"},"material2":{"id":21,"qty":2,"item":"Island Iron Ore"},"purposeCat":"Sundries","materialCat":"Metalworks","rank":9,"time":6,"value":90,"material3":{"id":10,"qty":1,"item":"Island Palm Log"}},{"id":48,"item":"Isleworks Bed","material1":{"id":54,"qty":4,"item":"Sanctuary Fur"},"material2":{"id":17,"qty":2,"item":"Island Cotton Boll"},"purposeCat":"Furnishings","materialCat":"Textiles","rank":9,"time":8,"value":120,"material3":{"id":9,"qty":2,"item":"Island Log"}},{"id":49,"item":"Isleworks Scale Fingers","material1":{"id":57,"qty":4,"item":"Sanctuary Carapace"},"material2":{"id":21,"qty":2,"item":"Island Iron Ore"},"purposeCat":"Attire","materialCat":"Creature Creations","rank":9,"time":8,"value":120,"material3":{"id":17,"qty":2,"item":"Island Cotton Boll"}},{"id":50,"item":"Isleworks Crook","material1":{"id":58,"qty":4,"item":"Sanctuary Fang"},"material2":{"id":22,"qty":2,"item":"Island Quartz"},"purposeCat":"Arms","materialCat":"Woodworks","rank":9,"time":8,"value":120,"material3":{"id":9,"qty":2,"item":"Island Log"}}]}'),T=a(7561),P=a.n(T);!function(e){e.UNKNOWN="",e.LOW="Low",e.AVERAGE="Average",e.HIGH="High",e.VERY_HIGH="Very High"}(N||(N={})),function(e){e.UNKNOWN="",e.NONEXISTENT="Nonexistent",e.INSUFFICIENT="Insufficient",e.SUFFICIENT="Sufficient",e.SURPLUS="Surplus",e.OVERFLOWING="Overflowing"}(b||(b={})),function(e){e.UNKNOWN="",e.PLUMMETING="Plummeting",e.DECREASING="Decreasing",e.NONE="None",e.INCREASING="Increasing",e.SKYROCKETING="Skyrocketing"}(E||(E={}));var A=new Map([[N.UNKNOWN,1],[N.LOW,.8],[N.AVERAGE,1],[N.HIGH,1.2],[N.VERY_HIGH,1.4]]),R=new Map([[b.UNKNOWN,1],[b.NONEXISTENT,1.6],[b.INSUFFICIENT,1.3],[b.SUFFICIENT,1],[b.SURPLUS,.8],[b.OVERFLOWING,.6]]);function F(e){return A.get(e.popularity)*R.get(e.supply)}function W(e){if(!e)return(0,s.jsx)(s.Fragment,{});var t=F(e),a=function(e){var t=F(e);if(1===t)return 0;if(t<1)return 100-(t-.48)/(2.24-.48)*100;return(t-.48)/(2.24-.48)*100}(e),i="",r="";t<1?(i="rgba(220, 53, 69, ".concat(a/100,")"),r="bi-arrow-down-circle-fill"):t>1&&(i="rgba(32, 201, 151, ".concat(a/100,")"),r="bi-arrow-up-circle-fill");var l={color:i};return(0,s.jsxs)("div",{className:P().modifier,children:[(0,s.jsx)("div",{className:"".concat(P()["icon-container"]),style:l,children:(0,s.jsx)("i",{className:"bi ".concat(r)})}),(0,s.jsx)("div",{children:t.toFixed(2)})]})}function L(e){if(!(null===e||void 0===e?void 0:e.demandShift))return(0,s.jsx)(s.Fragment,{});var t="",a="";switch(e.demandShift){case E.SKYROCKETING:t="rgba(32, 201, 151, 1)",a="bi-arrow-up-circle-fill";break;case E.INCREASING:t="rgba(32, 201, 151, 0.6)",a="bi-arrow-up-right-circle-fill";break;case E.NONE:t="rgba(0, 0, 0, 0.5)",a="bi-dash-circle-fill";break;case E.DECREASING:t="rgba(220, 53, 69, 0.7)",a="bi-arrow-down-right-circle-fill";break;case E.PLUMMETING:t="rgba(220, 53, 69, 1)",a="bi-arrow-down-circle-fill"}var i={color:t};return(0,s.jsxs)("div",{className:P()["demand-shift"],children:[(0,s.jsx)("div",{className:"".concat(P()["icon-container"]),style:i,children:(0,s.jsx)("i",{className:"bi ".concat(a)})}),(0,s.jsx)("div",{children:e.demandShift})]})}function M(e){var t=e.lastSelected,a=e.onSelectProduct,i=e.trendData,r=e.availableHours,n=function(e){var t=i.get(e.item);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("td",{children:e.item}),(0,s.jsx)("td",{children:e.time}),(0,s.jsx)("td",{children:e.value}),(0,s.jsx)("td",{children:W(t)}),(0,s.jsx)("td",{children:L(t)})]})},o=(0,l.useState)(0),c=o[0],m=o[1],u=(0,l.useState)(O.R),h=u[0],p=u[1];return(0,l.useEffect)((function(){p(O.R.filter((function(e){return function(e,t,a,i){var r=e.id===(null===t||void 0===t?void 0:t.id),s=!t||e.purposeCat===t.purposeCat||!!e.materialCat&&e.materialCat===t.materialCat,l=a>=e.time,n=0===i||e.time===i;return!r&&s&&l&&n}(e,t,r,c)})))}),[t,r,c]),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:P()["select-filters"],children:[(0,s.jsx)("h5",{children:"Filters"}),(0,s.jsxs)(d.cw,{row:!0,children:[(0,s.jsx)(d.__,{for:"time-filter",size:"sm",md:4,children:"Time"}),(0,s.jsx)(d.JX,{md:8,children:(0,s.jsxs)(d.II,{id:"time-filter",type:"select",bsSize:"sm",onChange:function(e){var t=e.target.value;m(parseInt(t))},children:[(0,s.jsx)("option",{value:"0",children:"None"}),(0,s.jsx)("option",{value:"4",children:"4"}),(0,s.jsx)("option",{value:"6",children:"6"}),(0,s.jsx)("option",{value:"8",children:"8"})]})})]})]}),(0,s.jsx)("div",{className:P()["select-table"],children:(0,s.jsxs)(d.iA,{size:"sm",hover:!0,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:P()["col-product"],children:"Product"}),(0,s.jsx)("th",{className:P()["col-time"],children:"Time"}),(0,s.jsx)("th",{className:P()["col-value"],children:"Value"}),(0,s.jsx)("th",{className:P()["col-trend"],children:"Trend"}),(0,s.jsx)("th",{className:P()["col-shift"],children:"Demand Shift"})]})}),(0,s.jsx)("tbody",{children:h.map((function(e){return(0,s.jsx)("tr",{onClick:function(){return a(e)},children:n(e)},e.id)}))})]})})]})}var H=a(7632);var B=a(2670);function V(e,t){return(0,B.Z)(t,Map)?{dataType:"Map",value:Array.from(t.entries())}:(0,B.Z)(t,Set)?{dataType:"Set",value:Array.from(t.entries())}:t}function U(e,t){if("object"===typeof t&&null!==t){var a=t;if("dataType"in a&&"Map"===a.dataType)return new Map(a.value);if("dataType"in a&&"Set"===a.dataType)return new Set(a.value)}return t}var D,G=function(e,t){var a=(0,l.useState)(t),i=a[0],r=a[1];return(0,l.useEffect)((function(){try{var t=localStorage.getItem(e);t&&r(JSON.parse(t,U))}catch(a){console.error(a)}}),[]),(0,l.useEffect)((function(){localStorage.setItem(e,JSON.stringify(i,V))}),[i,e]),[i,r]};function K(e){var t=e.storageKeyPrefix,a=e.trendData,n=(0,i.Z)(G("".concat(t,"is-selected-products"),[]),2),o=n[0],c=n[1],m=(0,l.useState)(24),u=m[0],h=m[1],p=(0,l.useState)(0),I=p[0],f=p[1],k=(0,l.useState)(D.BELOW),x=k[0],C=k[1],v=(0,l.useState)(!1),j=v[0],w=v[1],_=(0,l.useState)(),S=_[0],q=_[1],N=(0,l.useCallback)((function(){if(0===o.length)q(void 0);else{var e=x===D.BELOW?o[o.length-1]:o[0];q(e)}}),[x,o]),b=function(e){C((function(){return e})),w((function(e){return!e}))};return(0,l.useEffect)((function(){N()}),[N]),(0,l.useEffect)((function(){var e=o.reduce((function(e,t){return e+t.time}),0);h(24-e),f(e)}),[u,I,o]),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"".concat(P().hours," row"),children:[(0,s.jsx)("div",{className:"col-6 text-center",children:"Used"})," ",(0,s.jsx)("div",{className:"col-6 text-center",children:"Available"})]}),(0,s.jsxs)("div",{className:"".concat(P().hours," ").concat(P().digits," row"),children:[(0,s.jsx)("div",{className:"col-6 text-center",children:I})," ",(0,s.jsx)("div",{className:"col-6 text-center",children:u})]}),(0,s.jsxs)("div",{className:P()["add-btns"],children:[(0,s.jsx)("div",{children:(0,s.jsxs)(d.zx,{color:"primary",disabled:u<4,onClick:function(){return b(D.BELOW)},children:["Add ",(0,s.jsx)("i",{className:"bi bi-arrow-down-circle-fill"})]})}),(0,s.jsx)("div",{children:(0,s.jsxs)(d.zx,{color:"primary",disabled:u<4,onClick:function(){return b(D.ABOVE)},children:["Add ",(0,s.jsx)("i",{className:"bi bi-arrow-up-circle-fill"})]})}),(0,s.jsx)("div",{children:(0,s.jsxs)(d.zx,{color:"danger",disabled:0===o.length,onClick:function(){c([])},children:["Clear ",(0,s.jsx)("i",{className:"bi bi-x-circle-fill"})]})})]}),(0,s.jsx)("div",{className:P().scheduled,children:o.map((function(e,t){var a=!1;if(t-1>=0){var i=o[t-1];i.purposeCat!==e.purposeCat&&i.materialCat!==e.materialCat||(a=!0)}var l=100/(24/e.time);return(0,s.jsxs)("div",{className:P().timeslot,style:{height:"".concat(l,"%")},children:[(0,s.jsxs)("div",{className:P()["timeslot-header"],children:[(0,s.jsx)("div",{className:P().bonus,children:a&&(0,s.jsxs)("div",{id:e.key,children:[(0,s.jsx)("i",{className:"bi bi-stars"}),(0,s.jsx)(d.vg,{target:e.key,children:"Efficiency Bonus!"})]})}),(0,s.jsxs)("div",{className:P()["timeslot-title"],children:[(0,s.jsx)("span",{children:e.item})," (",e.time,"h)"]}),(0,s.jsx)("div",{children:(0,s.jsx)(d.zx,{className:"btn-icon--med ".concat(P()["remove-btn"]),onClick:function(){return function(e){c((function(t){return t.splice(e,1),(0,r.Z)(t)}))}(t)},children:(0,s.jsx)("i",{className:"bi bi-x-circle-fill"})})})]}),(0,s.jsxs)("div",{className:P()["timeslot-categories"],children:[(0,s.jsx)(g,{option:{value:e.purposeCat,text:e.purposeCat,color:"light-blue"}}),e.materialCat&&(0,s.jsx)(g,{option:{value:e.materialCat,text:e.materialCat,color:"purple"}})]})]},e.key)}))}),(0,s.jsxs)(d.u_,{isOpen:j,toggle:function(){return w((function(e){return!e}))},size:"lg",centered:!0,children:[(0,s.jsx)(d.xB,{toggle:function(){return w((function(e){return!e}))},children:"Select Product"}),(0,s.jsxs)("div",{className:"".concat(P()["table-sticky"]),children:[(0,s.jsxs)("div",{className:"".concat(P().hours," row"),children:[(0,s.jsx)("div",{className:"col-6 text-center",children:"Used"}),(0,s.jsx)("div",{className:"col-6 text-center",children:"Available"})]}),(0,s.jsxs)("div",{className:"".concat(P().hours," ").concat(P().digits," row"),children:[(0,s.jsx)("div",{className:"col-6 text-center",children:I}),(0,s.jsx)("div",{className:"col-6 text-center",children:u})]})]}),(0,s.jsx)(d.fe,{children:(0,s.jsx)(M,{onSelectProduct:function(e){c((function(t){var a,i=(0,y.Z)({key:(a="is","".concat(a||"id","-").concat((0,H.Z)()))},e);return x===D.BELOW?(0,r.Z)(t).concat([i]):[i].concat((0,r.Z)(t))}))},lastSelected:S,trendData:a,availableHours:u,usedHours:I})})]})]})}!function(e){e[e.ABOVE=0]="ABOVE",e[e.BELOW=1]="BELOW"}(D||(D={}));var z,Z="Island Sanctuary Planner";!function(e){e[e.WORKSHOPS=0]="WORKSHOPS",e[e.TREND_DATA=1]="TREND_DATA"}(z||(z={}));var J=function(){var e=(0,l.useState)(z.WORKSHOPS),t=e[0],a=e[1],n=(0,l.useState)("View Trends"),o=n[0],m=n[1],u=(0,i.Z)(G("is-trend-data",new Map),2),h=u[0],y=u[1];return(0,s.jsx)(j,{layoutProps:{title:Z,description:"Workshop Helper"},children:(0,s.jsxs)("main",{children:[(0,s.jsx)(c,{title:Z}),(0,s.jsxs)("div",{className:"".concat(_().container),children:[(0,s.jsxs)("div",{className:_()["trend-controls"],children:[(0,s.jsx)(p,{setTrendData:y}),(0,s.jsx)(d.zx,{onClick:function(){t===z.WORKSHOPS?(a(z.TREND_DATA),m("View Workshops")):(a(z.WORKSHOPS),m("View Trends"))},children:o})]}),(0,s.jsx)("div",{className:"spacer2"}),t===z.WORKSHOPS&&(0,s.jsxs)("div",{className:"".concat(_().workshops," row"),children:[(0,s.jsxs)("div",{className:"".concat(_().workshop),children:[(0,s.jsx)("h3",{children:"Workshop 1"}),(0,s.jsx)(K,{storageKeyPrefix:"w1-",trendData:h})]}),(0,s.jsxs)("div",{className:"".concat(_().workshop),children:[(0,s.jsx)("h3",{children:"Workshop 2"}),(0,s.jsx)(K,{storageKeyPrefix:"w2-",trendData:h})]}),(0,s.jsxs)("div",{className:"".concat(_().workshop),children:[(0,s.jsx)("h3",{children:"Workshop 3"}),(0,s.jsx)(K,{storageKeyPrefix:"w3-",trendData:h})]})]}),t===z.TREND_DATA&&(0,s.jsxs)("div",{className:"".concat(_()["trend-data"]),children:[(0,s.jsx)("h3",{children:"Trend Data"}),(0,s.jsxs)(d.iA,{size:"sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Product"}),(0,s.jsx)("th",{children:"Popularity"}),(0,s.jsx)("th",{children:"Supply"}),(0,s.jsx)("th",{children:"Demand Shift"})]})}),(0,s.jsxs)("tbody",{children:[(0,r.Z)(h.values()).map((function(e){return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.item}),(0,s.jsx)("td",{children:e.popularity}),(0,s.jsx)("td",{children:e.supply}),(0,s.jsx)("td",{children:e.demandShift})]},e.item)})),0===h.size&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"spacer2"}),"No trend data found!"]})]})]})]})]})]})})}},4279:function(e){e.exports={chip:"chip_chip__sLcdp","chip-text":"chip_chip-text__firTk","chip-close":"chip_chip-close__19AWb","chip-close-btn":"chip_chip-close-btn__C2cUw"}},1867:function(e){e.exports={header:"header_header__kWrF4"}},8826:function(e){e.exports={toast:"layout_toast__uV9_a",footer:"layout_footer__U7ng8"}},7561:function(e){e.exports={hours:"workshop_hours__gZchb",digits:"workshop_digits__9XwwR","add-btns":"workshop_add-btns__TcUEL",scheduled:"workshop_scheduled__rRg15",timeslot:"workshop_timeslot__qInIM","timeslot-header":"workshop_timeslot-header__oBZLq","timeslot-title":"workshop_timeslot-title__kTCip",bonus:"workshop_bonus__X5flN","timeslot-categories":"workshop_timeslot-categories__taFTs","remove-btn":"workshop_remove-btn__5tVAS","table-sticky":"workshop_table-sticky__75Juj","select-filters":"workshop_select-filters__1fmGw","select-table":"workshop_select-table__5TWTv","col-product":"workshop_col-product___4EW_","col-time":"workshop_col-time__PuYNb","col-value":"workshop_col-value__T6kpd","col-trend":"workshop_col-trend__Duk7j","col-shift":"workshop_col-shift__fisNQ",modifier:"workshop_modifier__XAwKm","demand-shift":"workshop_demand-shift__V_IE6","icon-container":"workshop_icon-container__WmQHb",red:"workshop_red__m9uhG","red-light":"workshop_red-light__G5C6Y",teal:"workshop_teal__2YcIy","teal-light":"workshop_teal-light__l8Sdc",white:"workshop_white__REAWd"}},4703:function(e){e.exports={container:"ffxiv_container__LgI_h","trend-controls":"ffxiv_trend-controls__JZMlk",workshops:"ffxiv_workshops__5Up9s",workshop:"ffxiv_workshop__QPaQf","trend-data":"ffxiv_trend-data__nKsiX"}}},function(e){e.O(0,[260,662,76,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);