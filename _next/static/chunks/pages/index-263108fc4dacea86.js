(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(4405)}])},4405:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return be}});var i=a(828),r=a(5944),n=a(6137),l=a(7841),s=a(6486),d=a(4065),o=a(6817),c=a(7803),m=a(5044),u=a(8540),h=a(9236),p=(0,o.k)((function(e){return{header:{backgroundColor:e.colors.dark[6],color:e.white,display:"flex",alignItems:"center",height:56,padding:"0 8px","> div":{marginRight:"8px","&:last-child":{marginRight:0}}}}}));function y(e){var t=e.children,a=e.title,i=(0,d.a)("(max-width: 400px)"),n=p().classes;return(0,r.BX)(r.HY,{children:[(0,r.BX)(c.h,{height:56,className:n.header,children:[(0,r.tZ)("div",{children:(0,r.tZ)(m.k,{color:"dark",sx:{i:{fontSize:20,lineHeight:20}},size:i?30:44,children:(0,r.tZ)("i",{className:"icon bi-sun-fill"})})}),(0,r.tZ)(u.z,{smallerThan:620,styles:i?{fontSize:20}:{fontSize:24},children:(0,r.tZ)(h.D,{order:1,sx:{flex:"1 1 auto"},children:a})}),(0,r.tZ)("div",{children:t})]}),(0,r.tZ)("div",{className:"spacer2"})]})}var f=a(1238),C=a(7294),I=a(5266),v=a(1944);function k(e){var t=e.setTrendData,a=(0,C.useMemo)((function(){return(0,s.debounce)((function(e){try{var a=e.target.value,i=(0,v.Q)(a,{delimiter:"\t",trim:!0,skip_empty_lines:!0}).map((function(e){return{item:e[0],popularity:e[1],supply:e[2],demandShift:e[3]}}));t((function(){return new Map(i.map((function(e){return[e.item,e]})))}))}catch(r){console.error(r)}}),200)}),[t]);return(0,C.useEffect)((function(){return function(){return a.cancel()}}),[a]),(0,r.tZ)(r.HY,{children:(0,r.tZ)(l.z,{onClick:function(){(0,I.h7)({size:"lg",centered:!0,title:(0,r.tZ)(h.D,{order:3,children:"Import Trends"}),children:(0,r.BX)(r.HY,{children:[(0,r.BX)("div",{children:["Import tab-separated values for the popularity, supply and demand shift of each handicraft. ",(0,r.tZ)("br",{}),(0,r.tZ)("a",{href:"https://docs.google.com/spreadsheets/d/1af0E8NkUIRMLf6dIY8pnMyUdjC9H5CQiAmH9Jaa4R6U/edit?usp=sharing",target:"_blank",rel:"noreferrer",children:"Example Sheet"}),(0,r.tZ)("div",{className:"spacer2"})]}),(0,r.tZ)(f.g,{id:"trend-data",minRows:10,onChange:a})]})})},children:"Import Trends"})})}var g=a(9008),Z=a.n(g),S=a(3723),w=a(4777),b=a(5117),q=(0,o.k)((function(){return{footer:{margin:"0 16px",padding:16}}}));function N(e){var t=e.children,a=e.layoutProps,i=q().classes;return(0,r.BX)(r.HY,{children:[(0,r.BX)(Z(),{children:[(0,r.tZ)("title",{children:a.title}),(0,r.tZ)("link",{rel:"icon",href:"/favicon.ico"}),(0,r.tZ)("meta",{name:"description",content:a.description}),(0,r.tZ)("meta",{name:"viewport",content:"minimum-scale=1, initial-scale=1, width=device-width"})]}),(0,r.BX)(S.x,{sx:{height:"100vh"},children:[(0,r.tZ)("main",{children:t}),(0,r.BX)("footer",{className:i.footer,children:[(0,r.tZ)(w.i,{pb:16}),(0,r.BX)(n.Z,{grow:!0,align:"center",noWrap:!0,children:[(0,r.BX)(b.x,{size:"sm",children:["2022 \xa9 ",(0,r.tZ)("a",{href:"https://github.com/ban-lee/ffxiv-island-sanctuary",children:"Ban Lee"})]}),(0,r.BX)(b.x,{size:"sm",align:"right",children:["Built with Nekkowe's permission to use the data ",(0,r.tZ)("br",{}),"from their\xa0",(0,r.tZ)("a",{href:"https://docs.google.com/spreadsheets/d/1e5dyaHSt5lj25l3nFWO5QcPmAJ2aAoPxCWj-iZnKxRk/edit#gid=1283864903",target:"_blank",rel:"noreferrer",children:"Island Sanctuary Workshop Sheet"}),"!"]})]})]})]})]})}var x,B=a(7789),E=a(8002),O=a(1310),P=a(1799),T=a(9396),A=a(4882);function H(e){var t=e.sanctuary,a=e.setSanctuary;return(0,r.tZ)(r.HY,{children:(0,r.BX)("form",{onSubmit:function(e){var i;e.preventDefault(),console.log(e),a((0,T.Z)((0,P.Z)({},t),{rank:parseInt((i=x.rank,document.getElementById(i).value))}))},children:[(0,r.tZ)(A.Y,{id:x.rank,min:1,max:10,defaultValue:t.rank,label:"Rank"}),(0,r.tZ)("div",{className:"spacer2"}),(0,r.tZ)("div",{css:{textAlign:"end"},children:(0,r.tZ)(l.z,{type:"submit",children:"Save"})})]})})}function R(e){var t=e.sanctuary,a=e.setSanctuary,i=(0,d.a)("(max-width: 400px)"),l=(0,d.a)("(min-width: 400px) and (max-width: 620px)"),s=(0,C.useState)(!1),o=s[0],c=s[1],m=o?"Close menu":"Open menu";return(0,r.BX)(n.Z,{noWrap:!0,children:[(0,r.BX)(B.C,{color:"dark",size:i?"sm":l?"md":"lg",children:["Rank: ",t.rank]}),(0,r.BX)(E.v,{shadow:"md",position:"bottom-end",width:250,opened:o,onChange:c,children:[(0,r.tZ)(E.v.Target,{children:(0,r.tZ)(O.O,{sx:function(e){return{height:i?30:44,width:i?30:44,"&:hover":{backgroundColor:e.colors.dark}}},styles:{burger:{margin:"0 auto"}},color:"white",size:i?"xs":"sm",opened:o,"aria-label":m})}),(0,r.tZ)(E.v.Dropdown,{children:(0,r.tZ)(E.v.Item,{icon:(0,r.tZ)("i",{className:"bi bi-gear"}),onClick:function(){(0,I.h7)({centered:!0,closeButtonLabel:"Close Sanctuary Info",title:(0,r.tZ)(h.D,{order:3,children:"Sanctuary Info"}),children:(0,r.tZ)(H,{sanctuary:t,setSanctuary:a})})},children:"Set Sanctuary Info"})})]})]})}!function(e){e.rank="sanctuary-rank"}(x||(x={}));var X=a(9815),W=a(5078),M=(0,o.k)((function(e){return{trendData:{margin:"0 16px",padding:"0 8px"}}}));function z(e){var t=e.trendData,a=M().classes;return(0,r.BX)("div",{className:a.trendData,children:[(0,r.tZ)(h.D,{order:3,children:"Trend Data"}),(0,r.BX)(W.i,{fontSize:"sm",highlightOnHover:!0,children:[(0,r.tZ)("thead",{children:(0,r.BX)("tr",{children:[(0,r.tZ)("th",{children:"Product"}),(0,r.tZ)("th",{children:"Popularity"}),(0,r.tZ)("th",{children:"Supply"}),(0,r.tZ)("th",{children:"Demand Shift"})]})}),(0,r.BX)("tbody",{children:[(0,X.Z)(t.values()).map((function(e){return(0,r.BX)("tr",{children:[(0,r.tZ)("td",{children:e.item}),(0,r.tZ)("td",{children:e.popularity}),(0,r.tZ)("td",{children:e.supply}),(0,r.tZ)("td",{children:e.demandShift})]},e.item)})),0===t.size&&(0,r.BX)("div",{children:[(0,r.tZ)("div",{className:"spacer2"}),"No trend data found!"]})]})]})]})}var L=a(2670);function F(e,t){return(0,L.Z)(t,Map)?{dataType:"Map",value:Array.from(t.entries())}:(0,L.Z)(t,Set)?{dataType:"Set",value:Array.from(t.entries())}:t}function D(e,t){if("object"===typeof t&&null!==t){var a=t;if("dataType"in a&&"Map"===a.dataType)return new Map(a.value);if("dataType"in a&&"Set"===a.dataType)return new Set(a.value)}return t}var _=function(e,t){var a=(0,C.useState)(t),i=a[0],r=a[1];return(0,C.useEffect)((function(){try{var t=localStorage.getItem(e);t&&r(JSON.parse(t,D))}catch(a){console.error(a)}}),[]),(0,C.useEffect)((function(){localStorage.setItem(e,JSON.stringify(i,F))}),[i,e]),[i,r]},U=a(8247),V=a(7632);var K=a(9094),G=a(2445),Y=a(8393),J=a(4201),Q=a(50);function j(e){var t,a=e.option,i=e.onClose,n=null!==(t=a.color)&&void 0!==t?t:"gray",l=i?(0,r.tZ)(J.P,{"aria-label":a.label,size:"xs",color:n,radius:"lg",onMouseDown:i,children:(0,r.tZ)("i",{className:"bi bi-x"})}):(0,r.tZ)(r.HY,{});return(0,r.tZ)(B.C,{color:n,rightSection:l,children:a.label})}var $=(0,o.k)((function(e){return{scheduled:{backgroundColor:e.colors.gray[3],display:"flex",flexFlow:"column nowrap",height:672,boxShadow:"0 0 0 1px ".concat(e.colors.gray[5]," inset"),padding:1,"> div:first-of-type":{borderTop:0},"> div:last-of-type":{borderBottom:"1px solid ".concat(e.colors.gray[5])}},timeslot:{backgroundColor:e.colors.yellow[0],borderTop:"1px solid ".concat(e.colors.gray[5]),padding:8},timeslotHeader:{marginBottom:8},timeslotBonus:{marginRight:4},help:{height:"100%",width:"100%",flexDirection:"column"},noBorder:{borderBottom:"0 !important"}}}));function ee(e){var t=e.selectedProducts,a=e.setSelectedProducts,i=$(),l=i.classes,s=i.cx,d=(0,C.useState)(!1),o=d[0],c=d[1];return(0,C.useEffect)((function(){var e=t.reduce((function(e,t){return e+t.time}),0);c(24===e)}),[t]),(0,r.BX)("div",{className:l.scheduled,children:[0===t.length&&(0,r.tZ)(K.M,{className:s(l.noBorder,l.help),children:(0,r.BX)(G.W,{css:{maxWidth:250},children:[(0,r.tZ)(K.M,{children:(0,r.tZ)(m.k,{color:"gray",size:"lg",radius:"lg",variant:"filled",children:(0,r.tZ)("i",{className:"bi bi-patch-exclamation"})})}),(0,r.tZ)(b.x,{align:"center",mb:"sm",children:"Workshop is empty"}),(0,r.BX)(b.x,{align:"justify",size:"sm",mb:"xs",children:[(0,r.BX)("b",{children:["Add ",(0,r.tZ)("i",{className:"bi bi-arrow-down"})]}),": To add handicrafts starting from the start to end of the cycle."]}),(0,r.BX)(b.x,{align:"justify",size:"sm",children:[(0,r.BX)("b",{children:["Add ",(0,r.tZ)("i",{className:"bi bi-arrow-up"})]}),": To add handicrafts starting from the end to the start of the cycle."]})]})}),t.map((function(e,i){var d,c,u=i===t.length-1&&o,h=(d=e,!!(c=t[i-1])&&(c.purposeCat===d.purposeCat||c.materialCat===d.materialCat)),p=28*e.time;return(0,r.BX)("div",{className:s(l.timeslot,u?l.noBorder:""),css:{height:p},children:[(0,r.BX)(n.Z,{className:l.timeslotHeader,children:[(0,r.BX)("div",{className:l.timeslotBonus,children:[h&&(0,r.tZ)(Y.u,{label:"Efficiency Bonus!",withinPortal:!0,children:(0,r.tZ)(m.k,{color:"green.5",radius:"lg",children:(0,r.tZ)("i",{className:"bi bi-stars"})})}),!h&&(0,r.tZ)(Y.u,{label:"No bonus",withinPortal:!0,children:(0,r.tZ)(m.k,{color:"gray.5",radius:"lg",children:(0,r.tZ)("i",{className:"bi bi-dash-lg"})})})]}),(0,r.tZ)(n.Z,{noWrap:!0,css:{flex:"1 1",padding:"0 4px"},children:(0,r.tZ)(Y.u,{label:e.item,children:(0,r.tZ)(b.x,{sx:{flex:"1 1"},lineClamp:1,children:(0,r.tZ)("b",{children:e.item})})})}),(0,r.tZ)(Y.u,{label:"Remove",children:(0,r.tZ)(J.P,{size:"md","aria-label":"Remove ".concat(e.item," from schedule"),iconSize:24,onClick:function(){return function(e){a((function(t){return t.splice(e,1),(0,X.Z)(t)}))}(i)}})})]}),(0,r.BX)(Q.r,{gutter:4,sx:function(e){return{fontSize:e.fontSizes.xs,textAlign:"center"}},children:[(0,r.tZ)(Q.r.Col,{sx:{"> div":{width:"100%"}},span:6,children:(0,r.tZ)(j,{option:{value:e.purposeCat,label:e.purposeCat,color:"blue"}})}),(0,r.tZ)(Q.r.Col,{sx:{"> div":{width:"100%"}},span:6,children:e.materialCat&&(0,r.tZ)(j,{option:{value:e.materialCat,label:e.materialCat,color:"grape"}})}),(0,r.BX)(Q.r.Col,{span:6,children:[(0,r.tZ)("b",{children:"Time:"})," ",e.time]}),(0,r.BX)(Q.r.Col,{span:6,children:[(0,r.tZ)("b",{children:"Value:"})," ",e.value]})]})]},e.key)}))]})}var te=a(3941),ae=(0,o.k)({scheduledHours:{margin:"0 auto"},grid:{textAlign:"center"},digits:{fontWeight:"bold",fontSize:24}});function ie(e){var t=e.availableHours,a=e.usedHours,i=e.fillWidth,n=void 0!==i&&i,l=ae().classes,s=(0,C.useState)([]),d=s[0],o=s[1];return(0,C.useEffect)((function(){var e=Math.round(a/24*100);o([{value:e,color:"yellow",label:24===a?"Fully scheduled":"Scheduled",tooltip:24===a?"":"".concat(a," hours scheduled")},{value:100-e,color:"gray",label:24===t?"Nothing scheduled":"",tooltip:24===t?"":"".concat(t," hours free")}])}),[t,a]),(0,r.tZ)("div",{className:l.scheduledHours,css:{maxWidth:n?"":350},children:(0,r.tZ)(te.E,{"aria-label":"Amount of time scheduled",color:"yellow",size:24,sections:d})})}var re,ne,le,se=JSON.parse('{"R":[{"id":1,"item":"Isleworks Potion","material1":{"id":0,"qty":2,"item":"Island Palm Leaf"},"material2":{"id":7,"qty":2,"item":"Islewort"},"purposeCat":"Concoctions","materialCat":"","rank":1,"time":4,"value":28},{"id":2,"item":"Isleworks Firesand","material1":{"id":8,"qty":2,"item":"Island Sand"},"material2":{"id":14,"qty":1,"item":"Island Limestone"},"purposeCat":"Concoctions","materialCat":"Unburied Treasures","rank":1,"time":4,"value":28,"material3":{"id":7,"qty":1,"item":"Islewort"}},{"id":3,"item":"Isleworks Wooden Chair","material1":{"id":9,"qty":4,"item":"Island Log"},"material2":{"id":11,"qty":2,"item":"Island Vine"},"purposeCat":"Furnishings","materialCat":"Woodworks","rank":1,"time":6,"value":42},{"id":4,"item":"Isleworks Grilled Clam","material1":{"id":4,"qty":2,"item":"Island Clam"},"material2":{"id":5,"qty":2,"item":"Island Laver"},"purposeCat":"Foodstuffs","materialCat":"Marine Merchandise","rank":1,"time":4,"value":28},{"id":5,"item":"Isleworks Necklace","material1":{"id":2,"qty":3,"item":"Island Branch"},"material2":{"id":11,"qty":1,"item":"Island Vine"},"purposeCat":"Accessories","materialCat":"Woodworks","rank":1,"time":4,"value":28},{"id":6,"item":"Isleworks Coral Ring","material1":{"id":6,"qty":3,"item":"Island Coral"},"material2":{"id":11,"qty":3,"item":"Island Vine"},"purposeCat":"Accessories","materialCat":"Marine Merchandise","rank":1,"time":6,"value":42},{"id":7,"item":"Isleworks Barbut","material1":{"id":13,"qty":3,"item":"Island Copper Ore"},"material2":{"id":8,"qty":3,"item":"Island Sand"},"purposeCat":"Attire","materialCat":"Metalworks","rank":1,"time":6,"value":42},{"id":8,"item":"Isleworks Macuahuitl","material1":{"id":10,"qty":3,"item":"Island Palm Log"},"material2":{"id":3,"qty":3,"item":"Island Stone"},"purposeCat":"Arms","materialCat":"Woodworks","rank":1,"time":6,"value":42},{"id":9,"item":"Isleworks Sauerkraut","material1":{"id":43,"qty":1,"item":"Island Cabbage"},"material2":{"id":15,"qty":3,"item":"Island Rock Salt"},"purposeCat":"Preserved Food","materialCat":"","rank":1,"time":4,"value":40},{"id":10,"item":"Isleworks Baked Pumpkin","material1":{"id":45,"qty":1,"item":"Island Pumpkin"},"material2":{"id":12,"qty":3,"item":"Island Sap"},"purposeCat":"Foodstuffs","materialCat":"","rank":1,"time":4,"value":40},{"id":11,"item":"Isleworks Tunic","material1":{"id":52,"qty":2,"item":"Sanctuary Fleece"},"material2":{"id":11,"qty":4,"item":"Island Vine"},"purposeCat":"Attire","materialCat":"Textiles","rank":1,"time":6,"value":72},{"id":12,"item":"Isleworks Culinary Knife","material1":{"id":53,"qty":1,"item":"Sanctuary Claw"},"material2":{"id":10,"qty":3,"item":"Island Palm Log"},"purposeCat":"Sundries","materialCat":"Creature Creations","rank":1,"time":4,"value":44},{"id":13,"item":"Isleworks Brush","material1":{"id":54,"qty":1,"item":"Sanctuary Fur"},"material2":{"id":10,"qty":3,"item":"Island Palm Log"},"purposeCat":"Sundries","materialCat":"Woodworks","rank":1,"time":4,"value":44},{"id":14,"item":"Isleworks Boiled Egg","material1":{"id":56,"qty":1,"item":"Sanctuary Egg"},"material2":{"id":5,"qty":3,"item":"Island Laver"},"purposeCat":"Foodstuffs","materialCat":"Creature Creations","rank":1,"time":4,"value":44},{"id":15,"item":"Isleworks Hora","material1":{"id":57,"qty":2,"item":"Sanctuary Carapace"},"material2":{"id":3,"qty":4,"item":"Island Stone"},"purposeCat":"Arms","materialCat":"Creature Creations","rank":1,"time":6,"value":72},{"id":16,"item":"Isleworks Earrings","material1":{"id":58,"qty":1,"item":"Sanctuary Fang"},"material2":{"id":11,"qty":3,"item":"Island Vine"},"purposeCat":"Accessories","materialCat":"Creature Creations","rank":1,"time":4,"value":44},{"id":17,"item":"Isleworks Butter","material1":{"id":60,"qty":1,"item":"Sanctuary Milk"},"material2":{"id":15,"qty":3,"item":"Island Rock Salt"},"purposeCat":"Ingredients","materialCat":"Creature Creations","rank":1,"time":4,"value":44},{"id":18,"item":"Isleworks Brick Counter","material1":{"id":19,"qty":2,"item":"Island Clay"},"material2":{"id":14,"qty":2,"item":"Island Limestone"},"purposeCat":"Furnishings","materialCat":"Unburied Treasures","rank":5,"time":6,"value":48,"material3":{"id":10,"qty":2,"item":"Island Palm Log"}},{"id":19,"item":"Bronze Sheep","material1":{"id":20,"qty":3,"item":"Island Tinsand"},"material2":{"id":13,"qty":3,"item":"Island Copper Ore"},"purposeCat":"Furnishings","materialCat":"Metalworks","rank":5,"time":8,"value":64,"material3":{"id":9,"qty":2,"item":"Island Log"}},{"id":20,"item":"Isleworks Growth Formula","material1":{"id":27,"qty":2,"item":"Island Alyssum"},"material2":{"id":7,"qty":3,"item":"Islewort"},"purposeCat":"Concoctions","materialCat":"","rank":5,"time":8,"value":136,"material3":{"id":2,"qty":3,"item":"Island Branch"}},{"id":21,"item":"Isleworks Garnet Rapier","material1":{"id":28,"qty":2,"item":"Raw Island Garnet"},"material2":{"id":13,"qty":3,"item":"Island Copper Ore"},"purposeCat":"Arms","materialCat":"Unburied Treasures","rank":5,"time":8,"value":136,"material3":{"id":20,"qty":3,"item":"Island Tinsand"}},{"id":22,"item":"Isleworks Spruce Round Shield","material1":{"id":29,"qty":2,"item":"Island Spruce Log"},"material2":{"id":13,"qty":3,"item":"Island Copper Ore"},"purposeCat":"Attire","materialCat":"Woodworks","rank":5,"time":8,"value":136,"material3":{"id":3,"qty":3,"item":"Island Stone"}},{"id":23,"item":"Isleworks Shark Oil","material1":{"id":30,"qty":2,"item":"Island Hammerhead"},"material2":{"id":5,"qty":3,"item":"Island Laver"},"purposeCat":"Sundries","materialCat":"Marine Merchandise","rank":5,"time":8,"value":136,"material3":{"id":12,"qty":3,"item":"Island Sap"}},{"id":24,"item":"Isleworks Silver Ear Cuffs","material1":{"id":31,"qty":2,"item":"Island Silver Ore"},"material2":{"id":20,"qty":3,"item":"Island Tinsand"},"purposeCat":"Accessories","materialCat":"Metalworks","rank":5,"time":8,"value":136,"material3":{"id":6,"qty":3,"item":"Island Coral"}},{"id":25,"item":"Isleworks Sweet Popoto","material1":{"id":42,"qty":2,"item":"Island Popoto"},"material2":{"id":60,"qty":1,"item":"Sanctuary Milk"},"purposeCat":"Confections","materialCat":"","rank":5,"time":6,"value":72,"material3":{"id":12,"qty":3,"item":"Island Sap"}},{"id":26,"item":"Isleworks Parsnip Salad","material1":{"id":50,"qty":2,"item":"Island Parsnip"},"material2":{"id":7,"qty":1,"item":"Islewort"},"purposeCat":"Foodstuffs","materialCat":"","rank":5,"time":4,"value":48,"material3":{"id":12,"qty":1,"item":"Island Sap"}},{"id":27,"item":"Isleworks Caramels","material1":{"id":16,"qty":4,"item":"Island Sugarcane"},"material2":{"id":60,"qty":2,"item":"Sanctuary Milk"},"purposeCat":"Confections","materialCat":"","rank":6,"time":6,"value":81},{"id":28,"item":"Isleworks Ribbon","material1":{"id":17,"qty":2,"item":"Island Cotton Boll"},"material2":{"id":13,"qty":2,"item":"Island Copper Ore"},"purposeCat":"Accessories","materialCat":"Textiles","rank":6,"time":6,"value":54,"material3":{"id":11,"qty":2,"item":"Island Vine"}},{"id":29,"item":"Isleworks Rope","material1":{"id":18,"qty":2,"item":"Island Hemp"},"material2":{"id":7,"qty":1,"item":"Islewort"},"purposeCat":"Sundries","materialCat":"Textiles","rank":6,"time":4,"value":36,"material3":{"id":11,"qty":1,"item":"Island Vine"}},{"id":30,"item":"Isleworks Cavalier\'s Hat","material1":{"id":55,"qty":2,"item":"Sanctuary Feather"},"material2":{"id":17,"qty":2,"item":"Island Cotton Boll"},"purposeCat":"Attire","materialCat":"Textiles","rank":6,"time":6,"value":81,"material3":{"id":18,"qty":2,"item":"Island Hemp"}},{"id":31,"item":"Isleworks Horn","material1":{"id":59,"qty":2,"item":"Sanctuary Horn"},"material2":{"id":19,"qty":2,"item":"Island Clay"},"purposeCat":"Sundries","materialCat":"Creature Creations","rank":6,"time":6,"value":81,"material3":{"id":18,"qty":2,"item":"Island Hemp"}},{"id":32,"item":"Isleworks Salt Cod","material1":{"id":24,"qty":4,"item":"Islefish"},"material2":{"id":15,"qty":2,"item":"Island Rock Salt"},"purposeCat":"Preserved Food","materialCat":"Marine Merchandise","rank":7,"time":6,"value":54},{"id":33,"item":"Isleworks Squid Ink","material1":{"id":25,"qty":2,"item":"Island Squid"},"material2":{"id":15,"qty":2,"item":"Island Rock Salt"},"purposeCat":"Ingredients","materialCat":"Marine Merchandise","rank":7,"time":4,"value":36},{"id":34,"item":"Isleworks Essential Draught","material1":{"id":26,"qty":2,"item":"Island Jellyfish"},"material2":{"id":0,"qty":2,"item":"Island Palm Leaf"},"purposeCat":"Concoctions","materialCat":"Marine Merchandise","rank":7,"time":6,"value":54,"material3":{"id":5,"qty":2,"item":"Island Laver"}},{"id":35,"item":"Isleberry Jam","material1":{"id":44,"qty":3,"item":"Isleberry"},"material2":{"id":16,"qty":2,"item":"Island Sugarcane"},"purposeCat":"Ingredients","materialCat":"","rank":7,"time":6,"value":78,"material3":{"id":12,"qty":1,"item":"Island Sap"}},{"id":36,"item":"Isleworks Tomato Relish","material1":{"id":47,"qty":2,"item":"Island Tomato"},"material2":{"id":16,"qty":1,"item":"Island Sugarcane"},"purposeCat":"Ingredients","materialCat":"","rank":7,"time":4,"value":52,"material3":{"id":7,"qty":1,"item":"Islewort"}},{"id":37,"item":"Isleworks Onion Soup","material1":{"id":46,"qty":3,"item":"Island Onion"},"material2":{"id":15,"qty":2,"item":"Island Rock Salt"},"purposeCat":"Foodstuffs","materialCat":"","rank":7,"time":6,"value":78,"material3":{"id":7,"qty":1,"item":"Islewort"}},{"id":38,"item":"Islefish Pie","material1":{"id":48,"qty":3,"item":"Island Wheat"},"material2":{"id":24,"qty":2,"item":"Islefish"},"purposeCat":"Confections","materialCat":"Marine Merchandise","rank":7,"time":6,"value":78,"material3":{"id":16,"qty":1,"item":"Island Sugarcane"}},{"id":39,"item":"Isleworks Corn Flakes","material1":{"id":49,"qty":2,"item":"Island Corn"},"material2":{"id":16,"qty":2,"item":"Island Sugarcane"},"purposeCat":"Preserved Food","materialCat":"","rank":7,"time":4,"value":52},{"id":40,"item":"Isleworks Pickled Radish","material1":{"id":51,"qty":4,"item":"Island Radish"},"material2":{"id":1,"qty":2,"item":"Island Apple"},"purposeCat":"Preserved Food","materialCat":"","rank":7,"time":8,"value":104,"material3":{"id":16,"qty":2,"item":"Island Sugarcane"}},{"id":41,"item":"Isleworks Iron Axe","material1":{"id":21,"qty":3,"item":"Island Iron Ore"},"material2":{"id":9,"qty":3,"item":"Island Log"},"purposeCat":"Arms","materialCat":"Metalworks","rank":8,"time":8,"value":72,"material3":{"id":8,"qty":2,"item":"Island Sand"}},{"id":42,"item":"Isleworks Quartz Ring","material1":{"id":22,"qty":3,"item":"Island Quartz"},"material2":{"id":21,"qty":3,"item":"Island Iron Ore"},"purposeCat":"Accessories","materialCat":"Unburied Treasures","rank":8,"time":8,"value":72,"material3":{"id":3,"qty":2,"item":"Island Stone"}},{"id":43,"item":"Isleworks Porcelain Vase","material1":{"id":23,"qty":3,"item":"Island Leucogranite"},"material2":{"id":22,"qty":3,"item":"Island Quartz"},"purposeCat":"Sundries","materialCat":"Unburied Treasures","rank":8,"time":8,"value":72,"material3":{"id":19,"qty":2,"item":"Island Clay"}},{"id":44,"item":"Isleworks Vegetable Juice","material1":{"id":43,"qty":3,"item":"Island Cabbage"},"material2":{"id":7,"qty":2,"item":"Islewort"},"purposeCat":"Concoctions","materialCat":"","rank":8,"time":6,"value":78,"material3":{"id":5,"qty":1,"item":"Island Laver"}},{"id":45,"item":"Isleworks Pumpkin Pudding","material1":{"id":45,"qty":3,"item":"Island Pumpkin"},"material2":{"id":56,"qty":1,"item":"Sanctuary Egg"},"purposeCat":"Confections","materialCat":"","rank":8,"time":6,"value":78,"material3":{"id":60,"qty":1,"item":"Sanctuary Milk"}},{"id":46,"item":"Isleworks Sheepfluff Rug","material1":{"id":52,"qty":3,"item":"Sanctuary Fleece"},"material2":{"id":17,"qty":2,"item":"Island Cotton Boll"},"purposeCat":"Furnishings","materialCat":"Creature Creations","rank":8,"time":6,"value":90,"material3":{"id":18,"qty":1,"item":"Island Hemp"}},{"id":47,"item":"Isleworks Garden Scythe","material1":{"id":53,"qty":3,"item":"Sanctuary Claw"},"material2":{"id":21,"qty":2,"item":"Island Iron Ore"},"purposeCat":"Sundries","materialCat":"Metalworks","rank":9,"time":6,"value":90,"material3":{"id":10,"qty":1,"item":"Island Palm Log"}},{"id":48,"item":"Isleworks Bed","material1":{"id":54,"qty":4,"item":"Sanctuary Fur"},"material2":{"id":17,"qty":2,"item":"Island Cotton Boll"},"purposeCat":"Furnishings","materialCat":"Textiles","rank":9,"time":8,"value":120,"material3":{"id":9,"qty":2,"item":"Island Log"}},{"id":49,"item":"Isleworks Scale Fingers","material1":{"id":57,"qty":4,"item":"Sanctuary Carapace"},"material2":{"id":21,"qty":2,"item":"Island Iron Ore"},"purposeCat":"Attire","materialCat":"Creature Creations","rank":9,"time":8,"value":120,"material3":{"id":17,"qty":2,"item":"Island Cotton Boll"}},{"id":50,"item":"Isleworks Crook","material1":{"id":58,"qty":4,"item":"Sanctuary Fang"},"material2":{"id":22,"qty":2,"item":"Island Quartz"},"purposeCat":"Arms","materialCat":"Woodworks","rank":9,"time":8,"value":120,"material3":{"id":9,"qty":2,"item":"Island Log"}}]}'),de=a(641),oe=a.n(de),ce=a(4418),me=a(292),ue=a(1919);function he(e){var t=e.trend;if(!(null===t||void 0===t?void 0:t.demandShift))return(0,r.tZ)(r.HY,{});var a="transparent",i="";switch(t.demandShift){case le.SKYROCKETING:a="rgba(32, 201, 151, 1)",i="bi-arrow-up";break;case le.INCREASING:a="rgba(32, 201, 151, 0.6)",i="bi-arrow-up-right";break;case le.DECREASING:a="rgba(220, 53, 69, 0.7)",i="bi-arrow-down-right";break;case le.PLUMMETING:a="rgba(220, 53, 69, 1)",i="bi-arrow-down";case le.NONE:}var l={backgroundColor:a};return(0,r.BX)(n.Z,{spacing:8,children:[(0,r.tZ)(m.k,{style:l,size:"sm",radius:"lg",children:(0,r.tZ)("i",{className:"bi ".concat(i)})}),(0,r.tZ)("div",{children:t.demandShift})]})}!function(e){e.UNKNOWN="",e.LOW="Low",e.AVERAGE="Average",e.HIGH="High",e.VERY_HIGH="Very High"}(re||(re={})),function(e){e.UNKNOWN="",e.NONEXISTENT="Nonexistent",e.INSUFFICIENT="Insufficient",e.SUFFICIENT="Sufficient",e.SURPLUS="Surplus",e.OVERFLOWING="Overflowing"}(ne||(ne={})),function(e){e.UNKNOWN="",e.PLUMMETING="Plummeting",e.DECREASING="Decreasing",e.NONE="None",e.INCREASING="Increasing",e.SKYROCKETING="Skyrocketing"}(le||(le={}));var pe=new Map([[re.UNKNOWN,1],[re.LOW,.8],[re.AVERAGE,1],[re.HIGH,1.2],[re.VERY_HIGH,1.4]]),ye=new Map([[ne.UNKNOWN,1],[ne.NONEXISTENT,1.6],[ne.INSUFFICIENT,1.3],[ne.SUFFICIENT,1],[ne.SURPLUS,.8],[ne.OVERFLOWING,.6]]);function fe(e){return pe.get(e.popularity)*ye.get(e.supply)}var Ce,Ie=a(8454);function ve(e){var t=e.trend;if(!t)return(0,r.tZ)(r.HY,{});var a=fe(t),i=function(e){var t=fe(e);if(1===t)return 0;if(t<1)return 100-(t-.48)/(2.24-.48)*100;return(t-.48)/(2.24-.48)*100}(t),l="transparent",s="";a<1?(l="rgba(220, 53, 69, ".concat(i/100,")"),s="bi-arrow-down"):a>1&&(l="rgba(32, 201, 151, ".concat(i/100,")"),s="bi-arrow-up");var d={backgroundColor:l};return(0,r.BX)(Ie.z,{position:"left",closeDelay:0,withArrow:!0,shadow:"md",children:[(0,r.tZ)(Ie.z.Target,{children:(0,r.BX)(n.Z,{spacing:8,grow:!0,children:[(0,r.tZ)(m.k,{sx:{flex:"0 0"},style:d,size:"sm",radius:"lg",children:(0,r.tZ)("i",{className:"bi ".concat(s)})}),(0,r.BX)(b.x,{align:"right",children:[(100*a).toFixed(0),"%"]})]})}),(0,r.tZ)(Ie.z.Dropdown,{children:(0,r.BX)(Q.r,{sx:{width:180},gutter:0,children:[(0,r.tZ)(Q.r.Col,{span:6,children:(0,r.tZ)("b",{children:"Popularity:"})}),(0,r.tZ)(Q.r.Col,{span:6,children:t.popularity}),(0,r.tZ)(Q.r.Col,{span:6,children:(0,r.tZ)("b",{children:"Supply:"})}),(0,r.tZ)(Q.r.Col,{span:6,children:t.supply})]})})]})}function ke(e){var t=e.rank,a=e.lastSelected,i=e.onSelectProduct,l=e.trendData,s=e.availableHours,d=e.usedHours,o=function(e){var t=l.get(e.item);return(0,r.BX)(r.HY,{children:[(0,r.tZ)("td",{children:e.item}),(0,r.tZ)("td",{css:{textAlign:"center"},children:e.time}),(0,r.tZ)("td",{css:{textAlign:"center"},children:e.value}),(0,r.tZ)("td",{children:(0,r.tZ)(ve,{trend:t})}),(0,r.tZ)("td",{children:(0,r.tZ)(he,{trend:t})})]})},c=(0,C.useState)(!0),u=c[0],p=c[1],y=(0,C.useState)(0),f=y[0],I=y[1],v=(0,C.useState)(se.R),k=v[0],g=v[1];return(0,C.useEffect)((function(){g(se.R.filter((function(e){return function(e,t,a,i,r,n){var l=e.id===(null===t||void 0===t?void 0:t.id),s=!t||e.purposeCat===t.purposeCat||!!e.materialCat&&e.materialCat===t.materialCat,d=a>=e.time,o=0===i||e.time===i,c=r>=e.rank;return(!n||!l&&s)&&d&&o&&c}(e,a,s,f,t,u)})))}),[a,s,f,t,u]),(0,r.BX)("div",{children:[(0,r.tZ)(ie,{availableHours:s,usedHours:d,fillWidth:!0}),(0,r.tZ)("div",{className:"spacer1"}),(0,r.tZ)(ce.U,{variant:"filled",defaultValue:"filters",children:(0,r.BX)(ce.U.Item,{value:"filters",children:[(0,r.tZ)(ce.U.Control,{icon:(0,r.tZ)("i",{className:"bi bi-funnel"}),sx:function(e){return{borderRadius:e.radius.sm}},children:(0,r.tZ)(h.D,{order:4,children:"Filters"})}),(0,r.tZ)(ce.U.Panel,{children:(0,r.BX)(Q.r,{align:"center",gutter:8,sx:function(e){return{fontSize:e.fontSizes.sm,maxWidth:500}},mx:"auto",children:[(0,r.tZ)(Q.r.Col,{span:12}),(0,r.tZ)(Q.r.Col,{span:5,children:(0,r.tZ)("label",{htmlFor:"time-filter",children:"Time"})}),(0,r.tZ)(Q.r.Col,{span:7,children:(0,r.tZ)(me.p,{id:"time-filter",data:[{value:"0",label:"None"},{value:"4",label:"4"},{value:"6",label:"6"},{value:"8",label:"8"}],onChange:function(e){var t=e.target.value;I(parseInt(t))}})}),(0,r.tZ)(Q.r.Col,{span:5,children:(0,r.tZ)("label",{htmlFor:"efficiency-bonus",children:"Efficiency Bonus Only"})}),(0,r.tZ)(Q.r.Col,{span:7,children:(0,r.tZ)("div",{css:{margin:"0 0 0 auto",width:"fit-content"},children:(0,r.tZ)(ue.X,{id:"efficiency-bonus",checked:u,onChange:function(e){return p(e.target.checked)}})})})]})})]})}),(0,r.tZ)("div",{className:"spacer2"}),(0,r.BX)(S.x,{className:oe()["select-table"],children:[(0,r.BX)(W.i,{fontSize:"sm",highlightOnHover:!0,children:[(0,r.tZ)("thead",{children:(0,r.BX)("tr",{children:[(0,r.tZ)("th",{className:oe()["col-product"],children:"Product"}),(0,r.tZ)("th",{className:oe()["col-time"],children:"Time"}),(0,r.tZ)("th",{className:oe()["col-value"],children:"Value"}),(0,r.tZ)("th",{className:oe()["col-trend"],children:(0,r.tZ)(Y.u,{label:"Value modifier from Popularity and Supply",withinPortal:!0,children:(0,r.BX)(n.Z,{children:["Trend",(0,r.tZ)(m.k,{size:"xs",radius:"lg",children:(0,r.tZ)("i",{className:"bi bi-question"})})]})})}),(0,r.tZ)("th",{className:oe()["col-shift"],children:"Demand Shift"})]})}),(0,r.tZ)("tbody",{children:k.map((function(e){return(0,r.tZ)("tr",{onClick:function(){return i(e)},children:o(e)},e.id)}))})]}),(0,r.tZ)("div",{className:"spacer1"})]})]})}function ge(e){var t=e.storageKeyPrefix,a=e.sanctuaryInfo,s=e.title,d=e.trendData,o=(0,i.Z)(_("".concat(t,"is-selected-products"),[]),2),c=o[0],m=o[1],u=(0,C.useState)(24),p=u[0],y=u[1],f=(0,C.useState)(0),I=f[0],v=f[1],k=(0,C.useState)(Ce.BELOW),g=k[0],Z=k[1],S=(0,C.useState)(!1),w=S[0],b=S[1],q=(0,C.useState)(),N=q[0],x=q[1],B=(0,C.useCallback)((function(){if(0===c.length)x(void 0);else{var e=g===Ce.BELOW?c[c.length-1]:c[0];x(e)}}),[g,c]),E=function(e){Z((function(){return e})),b((function(e){return!e}))};return(0,C.useEffect)((function(){B()}),[B]),(0,C.useEffect)((function(){var e=c.reduce((function(e,t){return e+t.time}),0);y(24-e),v(e)}),[p,I,c]),(0,r.BX)(r.HY,{children:[(0,r.BX)("div",{children:[(0,r.tZ)(h.D,{order:3,children:s}),(0,r.tZ)("div",{className:"spacer2"}),(0,r.tZ)(ie,{availableHours:p,usedHours:I})]}),(0,r.BX)(n.Z,{position:"center",sx:{padding:"16px 0"},spacing:"xs",children:[(0,r.tZ)("div",{children:(0,r.tZ)(l.z,{disabled:p<4,onClick:function(){return E(Ce.BELOW)},"aria-label":"Add handicrafts from start",rightIcon:(0,r.tZ)("i",{className:"bi bi-arrow-down"}),children:"Add"})}),(0,r.tZ)("div",{children:(0,r.tZ)(l.z,{disabled:p<4,"aria-label":"Add handicrafts from end",onClick:function(){return E(Ce.ABOVE)},rightIcon:(0,r.tZ)("i",{className:"bi bi-arrow-up"}),children:"Add"})}),(0,r.tZ)("div",{children:(0,r.tZ)(l.z,{color:"red",disabled:0===c.length,"aria-label":"Remove all handicrafts from schedule",onClick:function(){m([])},rightIcon:(0,r.tZ)("i",{className:"bi bi-x-lg"}),children:"Remove All"})})]}),(0,r.tZ)(ee,{selectedProducts:c,setSelectedProducts:m}),(0,r.tZ)(U.u,{centered:!0,size:"xl",opened:w,onClose:function(){return b(!1)},title:(0,r.tZ)(h.D,{order:3,children:"Select Handicrafts"}),children:(0,r.tZ)(r.HY,{children:(0,r.tZ)(ke,{rank:a.rank,onSelectProduct:function(e){m((function(t){var a,i=(0,P.Z)({key:(a="is","".concat(a||"id","-").concat((0,V.Z)()))},e);return g===Ce.BELOW?(0,X.Z)(t).concat([i]):[i].concat((0,X.Z)(t))}))},lastSelected:N,trendData:d,availableHours:p,usedHours:I})})})]})}!function(e){e[e.ABOVE=0]="ABOVE",e[e.BELOW=1]="BELOW"}(Ce||(Ce={}));var Ze,Se="Island Sanctuary Planner";!function(e){e[e.WORKSHOPS=0]="WORKSHOPS",e[e.TREND_DATA=1]="TREND_DATA"}(Ze||(Ze={}));var we={rank:1,workshop1Level:1,workshop2Level:1,workshop3Level:1},be=function(){var e=(0,C.useState)(Ze.WORKSHOPS),t=e[0],a=e[1],d=(0,C.useState)("View Trends"),o=d[0],c=d[1],m=(0,i.Z)(_("is-trend-data",new Map),2),u=m[0],h=m[1],p=(0,i.Z)(_("is-sanctuary",(0,s.cloneDeep)(we)),2),f=p[0],I=p[1];return(0,r.tZ)(N,{layoutProps:{title:Se,description:"Workshop Helper"},children:(0,r.BX)(r.HY,{children:[(0,r.tZ)(y,{title:Se,children:(0,r.tZ)(R,{sanctuary:f,setSanctuary:I})}),(0,r.BX)("div",{css:{paddingBottom:16},children:[(0,r.BX)(n.Z,{align:"center",position:"center",children:[(0,r.tZ)(k,{setTrendData:h}),(0,r.tZ)(l.z,{color:"violet",onClick:function(){t===Ze.WORKSHOPS?(a(Ze.TREND_DATA),c("View Workshops")):(a(Ze.WORKSHOPS),c("View Trends"))},children:o})]}),(0,r.tZ)("div",{className:"spacer2"}),t===Ze.WORKSHOPS&&(0,r.BX)(n.Z,{grow:!0,position:"center",sx:function(e){return{"> div":{backgroundColor:e.colors.gray[1],border:"1px solid ".concat(e.colors.gray[2]),boxShadow:e.shadows.sm,minWidth:200,maxWidth:500,padding:8,width:"30%"},h3:{textAlign:"center",padding:"4px 8px 0 8px"},gap:16,margin:"0 16px"}},children:[(0,r.tZ)("div",{children:(0,r.tZ)(ge,{title:"Workshop 1",storageKeyPrefix:"w1-",sanctuaryInfo:f,trendData:u})}),(0,r.tZ)("div",{children:(0,r.tZ)(ge,{title:"Workshop 2",storageKeyPrefix:"w2-",sanctuaryInfo:f,trendData:u})}),(0,r.tZ)("div",{children:(0,r.tZ)(ge,{title:"Workshop 3",storageKeyPrefix:"w3-",sanctuaryInfo:f,trendData:u})})]}),t===Ze.TREND_DATA&&(0,r.tZ)(z,{trendData:u})]})]})})}},641:function(e){e.exports={"select-table":"select-product-table_select-table__bU5__","col-time":"select-product-table_col-time__VJZJB","col-value":"select-product-table_col-value__ucR92","col-trend":"select-product-table_col-trend__xMY_S","col-shift":"select-product-table_col-shift__LCKvm"}}},function(e){e.O(0,[662,138,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);