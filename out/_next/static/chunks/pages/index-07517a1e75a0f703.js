(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(506)}])},506:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return se}});var i=a(828),r=a(5893),s=a(6486),n=a.n(s),l=a(7294),o=a(1867),d=a.n(o),c=a(450);function m(e){var t=e.children,a=e.title;e.homeRoute;return(0,r.jsxs)("header",{className:d().header,children:[(0,r.jsxs)(c.wp,{color:"dark",dark:!0,children:[(0,r.jsx)("div",{className:d()["header-icon"],children:(0,r.jsx)("i",{className:"icon bi-sun-fill"})}),(0,r.jsxs)(c.UG,{className:"me-auto",children:[a," \xa0"]}),t]}),(0,r.jsx)("div",{className:"spacer2"})]})}var u=a(1944);function h(e){var t=e.setTrendData,a=(0,l.useState)(!1),i=a[0],s=a[1],o=(0,l.useRef)((function(){s((function(e){return!e}))})).current,d=(0,l.useMemo)((function(){return n().debounce((function(e){try{var a=e.target.value,i=(0,u.Q)(a,{delimiter:"\t",trim:!0,skip_empty_lines:!0}).map((function(e){return{item:e[0],popularity:e[1],supply:e[2],demandShift:e[3]}}));t((function(){return new Map(i.map((function(e){return[e.item,e]})))}))}catch(r){console.error(r)}}),200)}),[t]);return(0,l.useEffect)((function(){return function(){return d.cancel()}}),[d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.zx,{color:"primary",onClick:o,children:"Import Trends"}),(0,r.jsxs)(c.u_,{isOpen:i,toggle:o,size:"lg",centered:!0,children:[(0,r.jsx)(c.xB,{toggle:o,children:"Import Trends"}),(0,r.jsxs)(c.fe,{children:[(0,r.jsxs)("div",{children:["Import tab-separated values for the popularity, supply and demand shift of each product. ",(0,r.jsx)("br",{}),(0,r.jsx)("a",{href:"https://docs.google.com/spreadsheets/d/1af0E8NkUIRMLf6dIY8pnMyUdjC9H5CQiAmH9Jaa4R6U/edit?usp=sharing",target:"_blank",rel:"noreferrer",children:"Example Sheet"}),(0,r.jsx)("div",{className:"spacer2"})]}),(0,r.jsx)(c.II,{id:"trend-data",type:"textarea",style:{minHeight:"300px"},onChange:d})]})]})]})}var p=a(1799),y=a(9396),k=a(9008),f=a.n(k),I=a(8826),x=a.n(I);function v(e){return e.color?"bg-".concat(e.color):""}var C;function j(e){var t=e.children,a=e.layoutProps,i=(0,l.useState)(void 0),s=i[0],n=i[1];return(0,l.useEffect)((function(){n(a.toastConfig)}),[a.toastConfig]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(f(),{children:[(0,r.jsx)("title",{children:a.title}),(0,r.jsx)("meta",{name:"description",content:a.description}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),t,s&&(0,r.jsx)("div",{className:"".concat(x().toast," ").concat(v(s)),children:(0,r.jsxs)(c.FN,{isOpen:!!s.isVisible,children:[(0,r.jsx)(c.WV,{toggle:function(){n((0,y.Z)((0,p.Z)({},s),{isVisible:!1}))},children:s.header}),!!s.body&&(0,r.jsx)(c.Yo,{children:s.body})]})}),(0,r.jsx)("footer",{children:(0,r.jsxs)("div",{className:x().footer,children:[(0,r.jsxs)("div",{children:["2022 \xa9 ",(0,r.jsx)("a",{href:"https://github.com/ban-lee/ffxiv-island-sanctuary",children:"Ban Lee"})]}),(0,r.jsxs)("div",{className:x().credit,children:["Built with permission to use the data from ",(0,r.jsx)("br",{}),"Nekkowe's",(0,r.jsx)("a",{href:"https://docs.google.com/spreadsheets/d/1e5dyaHSt5lj25l3nFWO5QcPmAJ2aAoPxCWj-iZnKxRk/edit#gid=1283864903",target:"_blank",rel:"noreferrer",children:"Island Sanctuary Workshop Sheet"}),"!"]})]})})]})}function _(e){var t=e.sanctuary,a=e.setSanctuary;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(c.l0,{onSubmit:function(e){var i;e.preventDefault(),console.log(e),a((0,y.Z)((0,p.Z)({},t),{rank:parseInt((i=C.rank,document.getElementById(i).value))}))},children:[(0,r.jsxs)(c.cw,{row:!0,children:[(0,r.jsx)(c.__,{for:C.rank,md:4,children:"Sanctuary Rank"}),(0,r.jsx)(c.JX,{children:(0,r.jsx)(c.II,{id:C.rank,type:"number",min:"1",max:"10",defaultValue:t.rank})})]}),(0,r.jsx)("div",{className:"text-end",children:(0,r.jsx)(c.zx,{type:"submit",color:"primary",children:"Save"})})]})})}!function(e){e.rank="sanctuary-rank"}(C||(C={}));var w=a(861),S=a.n(w);function g(e){var t=e.sanctuary,a=e.setSanctuary,i=function(){u((function(e){return!e}))},s=(0,l.useState)(!1),n=s[0],o=s[1],d=(0,l.useState)(!1),m=d[0],u=d[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"".concat(S().rank),children:["Rank: ",t.rank]}),(0,r.jsxs)(c.Lt,{menuRole:"menu",inNavbar:!0,isOpen:n,toggle:function(){o((function(e){return!e}))},children:[(0,r.jsx)(c.Z_,{className:S()["main-menu-button"],color:"light",children:(0,r.jsx)("i",{className:"bi bi-list"})}),(0,r.jsx)(c.h_,{className:S()["dropdown-menu"],children:(0,r.jsx)(c.hP,{onClick:i,children:"Set Sanctuary Info"})})]}),(0,r.jsxs)(c.u_,{isOpen:m,toggle:i,centered:!0,children:[(0,r.jsx)(c.xB,{toggle:i,children:"Sanctuary Info"}),(0,r.jsx)(c.fe,{children:(0,r.jsx)(_,{sanctuary:t,setSanctuary:a})})]})]})}var q=a(4703),N=a.n(q),b=a(9815),E=a(8171),O=a.n(E);function T(e){var t=e.trendData;return(0,r.jsxs)("div",{className:"".concat(O()["trend-data"]),children:[(0,r.jsx)("h3",{children:"Trend Data"}),(0,r.jsxs)(c.iA,{size:"sm",hover:!0,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Product"}),(0,r.jsx)("th",{children:"Popularity"}),(0,r.jsx)("th",{children:"Supply"}),(0,r.jsx)("th",{children:"Demand Shift"})]})}),(0,r.jsxs)("tbody",{children:[(0,b.Z)(t.values()).map((function(e){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.item}),(0,r.jsx)("td",{children:e.popularity}),(0,r.jsx)("td",{children:e.supply}),(0,r.jsx)("td",{children:e.demandShift})]},e.item)})),0===t.size&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"spacer2"}),"No trend data found!"]})]})]})]})}var P=a(4279),A=a.n(P);function R(e){var t=e.option,a=e.onClose;return(0,r.jsxs)("div",{className:"".concat(A().chip," ").concat(t.color||"gray"),children:[(0,r.jsx)("div",{className:"".concat(A()["chip-text"]),children:t.text}),!!a&&(0,r.jsx)("div",{className:A()["chip-close"],children:(0,r.jsx)(c.zx,{className:"".concat(A()["chip-close-btn"]),type:"button",onClick:a,children:(0,r.jsx)("i",{className:"bi-x-circle-fill"})})})]})}var F=a(7561),L=a.n(F);function W(e){var t=e.availableHours,a=e.usedHours;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"".concat(L().hours," row"),children:[(0,r.jsx)("div",{className:"col-6 text-center",children:"Used"})," ",(0,r.jsx)("div",{className:"col-6 text-center",children:"Available"})]}),(0,r.jsxs)("div",{className:"".concat(L().hours," ").concat(L().digits," row"),children:[(0,r.jsx)("div",{className:"col-6 text-center",children:a})," ",(0,r.jsx)("div",{className:"col-6 text-center",children:t})]})]})}var M,H,B,V=JSON.parse('{"R":[{"id":1,"item":"Isleworks Potion","material1":{"id":0,"qty":2,"item":"Island Palm Leaf"},"material2":{"id":7,"qty":2,"item":"Islewort"},"purposeCat":"Concoctions","materialCat":"","rank":1,"time":4,"value":28},{"id":2,"item":"Isleworks Firesand","material1":{"id":8,"qty":2,"item":"Island Sand"},"material2":{"id":14,"qty":1,"item":"Island Limestone"},"purposeCat":"Concoctions","materialCat":"Unburied Treasures","rank":1,"time":4,"value":28,"material3":{"id":7,"qty":1,"item":"Islewort"}},{"id":3,"item":"Isleworks Wooden Chair","material1":{"id":9,"qty":4,"item":"Island Log"},"material2":{"id":11,"qty":2,"item":"Island Vine"},"purposeCat":"Furnishings","materialCat":"Woodworks","rank":1,"time":6,"value":42},{"id":4,"item":"Isleworks Grilled Clam","material1":{"id":4,"qty":2,"item":"Island Clam"},"material2":{"id":5,"qty":2,"item":"Island Laver"},"purposeCat":"Foodstuffs","materialCat":"Marine Merchandise","rank":1,"time":4,"value":28},{"id":5,"item":"Isleworks Necklace","material1":{"id":2,"qty":3,"item":"Island Branch"},"material2":{"id":11,"qty":1,"item":"Island Vine"},"purposeCat":"Accessories","materialCat":"Woodworks","rank":1,"time":4,"value":28},{"id":6,"item":"Isleworks Coral Ring","material1":{"id":6,"qty":3,"item":"Island Coral"},"material2":{"id":11,"qty":3,"item":"Island Vine"},"purposeCat":"Accessories","materialCat":"Marine Merchandise","rank":1,"time":6,"value":42},{"id":7,"item":"Isleworks Barbut","material1":{"id":13,"qty":3,"item":"Island Copper Ore"},"material2":{"id":8,"qty":3,"item":"Island Sand"},"purposeCat":"Attire","materialCat":"Metalworks","rank":1,"time":6,"value":42},{"id":8,"item":"Isleworks Macuahuitl","material1":{"id":10,"qty":3,"item":"Island Palm Log"},"material2":{"id":3,"qty":3,"item":"Island Stone"},"purposeCat":"Arms","materialCat":"Woodworks","rank":1,"time":6,"value":42},{"id":9,"item":"Isleworks Sauerkraut","material1":{"id":43,"qty":1,"item":"Island Cabbage"},"material2":{"id":15,"qty":3,"item":"Island Rock Salt"},"purposeCat":"Preserved Food","materialCat":"","rank":1,"time":4,"value":40},{"id":10,"item":"Isleworks Baked Pumpkin","material1":{"id":45,"qty":1,"item":"Island Pumpkin"},"material2":{"id":12,"qty":3,"item":"Island Sap"},"purposeCat":"Foodstuffs","materialCat":"","rank":1,"time":4,"value":40},{"id":11,"item":"Isleworks Tunic","material1":{"id":52,"qty":2,"item":"Sanctuary Fleece"},"material2":{"id":11,"qty":4,"item":"Island Vine"},"purposeCat":"Attire","materialCat":"Textiles","rank":1,"time":6,"value":72},{"id":12,"item":"Isleworks Culinary Knife","material1":{"id":53,"qty":1,"item":"Sanctuary Claw"},"material2":{"id":10,"qty":3,"item":"Island Palm Log"},"purposeCat":"Sundries","materialCat":"Creature Creations","rank":1,"time":4,"value":44},{"id":13,"item":"Isleworks Brush","material1":{"id":54,"qty":1,"item":"Sanctuary Fur"},"material2":{"id":10,"qty":3,"item":"Island Palm Log"},"purposeCat":"Sundries","materialCat":"Woodworks","rank":1,"time":4,"value":44},{"id":14,"item":"Isleworks Boiled Egg","material1":{"id":56,"qty":1,"item":"Sanctuary Egg"},"material2":{"id":5,"qty":3,"item":"Island Laver"},"purposeCat":"Foodstuffs","materialCat":"Creature Creations","rank":1,"time":4,"value":44},{"id":15,"item":"Isleworks Hora","material1":{"id":57,"qty":2,"item":"Sanctuary Carapace"},"material2":{"id":3,"qty":4,"item":"Island Stone"},"purposeCat":"Arms","materialCat":"Creature Creations","rank":1,"time":6,"value":72},{"id":16,"item":"Isleworks Earrings","material1":{"id":58,"qty":1,"item":"Sanctuary Fang"},"material2":{"id":11,"qty":3,"item":"Island Vine"},"purposeCat":"Accessories","materialCat":"Creature Creations","rank":1,"time":4,"value":44},{"id":17,"item":"Isleworks Butter","material1":{"id":60,"qty":1,"item":"Sanctuary Milk"},"material2":{"id":15,"qty":3,"item":"Island Rock Salt"},"purposeCat":"Ingredients","materialCat":"Creature Creations","rank":1,"time":4,"value":44},{"id":18,"item":"Isleworks Brick Counter","material1":{"id":19,"qty":2,"item":"Island Clay"},"material2":{"id":14,"qty":2,"item":"Island Limestone"},"purposeCat":"Furnishings","materialCat":"Unburied Treasures","rank":5,"time":6,"value":48,"material3":{"id":10,"qty":2,"item":"Island Palm Log"}},{"id":19,"item":"Bronze Sheep","material1":{"id":20,"qty":3,"item":"Island Tinsand"},"material2":{"id":13,"qty":3,"item":"Island Copper Ore"},"purposeCat":"Furnishings","materialCat":"Metalworks","rank":5,"time":8,"value":64,"material3":{"id":9,"qty":2,"item":"Island Log"}},{"id":20,"item":"Isleworks Growth Formula","material1":{"id":27,"qty":2,"item":"Island Alyssum"},"material2":{"id":7,"qty":3,"item":"Islewort"},"purposeCat":"Concoctions","materialCat":"","rank":5,"time":8,"value":136,"material3":{"id":2,"qty":3,"item":"Island Branch"}},{"id":21,"item":"Isleworks Garnet Rapier","material1":{"id":28,"qty":2,"item":"Raw Island Garnet"},"material2":{"id":13,"qty":3,"item":"Island Copper Ore"},"purposeCat":"Arms","materialCat":"Unburied Treasures","rank":5,"time":8,"value":136,"material3":{"id":20,"qty":3,"item":"Island Tinsand"}},{"id":22,"item":"Isleworks Spruce Round Shield","material1":{"id":29,"qty":2,"item":"Island Spruce Log"},"material2":{"id":13,"qty":3,"item":"Island Copper Ore"},"purposeCat":"Attire","materialCat":"Woodworks","rank":5,"time":8,"value":136,"material3":{"id":3,"qty":3,"item":"Island Stone"}},{"id":23,"item":"Isleworks Shark Oil","material1":{"id":30,"qty":2,"item":"Island Hammerhead"},"material2":{"id":5,"qty":3,"item":"Island Laver"},"purposeCat":"Sundries","materialCat":"Marine Merchandise","rank":5,"time":8,"value":136,"material3":{"id":12,"qty":3,"item":"Island Sap"}},{"id":24,"item":"Isleworks Silver Ear Cuffs","material1":{"id":31,"qty":2,"item":"Island Silver Ore"},"material2":{"id":20,"qty":3,"item":"Island Tinsand"},"purposeCat":"Accessories","materialCat":"Metalworks","rank":5,"time":8,"value":136,"material3":{"id":6,"qty":3,"item":"Island Coral"}},{"id":25,"item":"Isleworks Sweet Popoto","material1":{"id":42,"qty":2,"item":"Island Popoto"},"material2":{"id":60,"qty":1,"item":"Sanctuary Milk"},"purposeCat":"Confections","materialCat":"","rank":5,"time":6,"value":72,"material3":{"id":12,"qty":3,"item":"Island Sap"}},{"id":26,"item":"Isleworks Parsnip Salad","material1":{"id":50,"qty":2,"item":"Island Parsnip"},"material2":{"id":7,"qty":1,"item":"Islewort"},"purposeCat":"Foodstuffs","materialCat":"","rank":5,"time":4,"value":48,"material3":{"id":12,"qty":1,"item":"Island Sap"}},{"id":27,"item":"Isleworks Caramels","material1":{"id":16,"qty":4,"item":"Island Sugarcane"},"material2":{"id":60,"qty":2,"item":"Sanctuary Milk"},"purposeCat":"Confections","materialCat":"","rank":6,"time":6,"value":81},{"id":28,"item":"Isleworks Ribbon","material1":{"id":17,"qty":2,"item":"Island Cotton Boll"},"material2":{"id":13,"qty":2,"item":"Island Copper Ore"},"purposeCat":"Accessories","materialCat":"Textiles","rank":6,"time":6,"value":54,"material3":{"id":11,"qty":2,"item":"Island Vine"}},{"id":29,"item":"Isleworks Rope","material1":{"id":18,"qty":2,"item":"Island Hemp"},"material2":{"id":7,"qty":1,"item":"Islewort"},"purposeCat":"Sundries","materialCat":"Textiles","rank":6,"time":4,"value":36,"material3":{"id":11,"qty":1,"item":"Island Vine"}},{"id":30,"item":"Isleworks Cavalier\'s Hat","material1":{"id":55,"qty":2,"item":"Sanctuary Feather"},"material2":{"id":17,"qty":2,"item":"Island Cotton Boll"},"purposeCat":"Attire","materialCat":"Textiles","rank":6,"time":6,"value":81,"material3":{"id":18,"qty":2,"item":"Island Hemp"}},{"id":31,"item":"Isleworks Horn","material1":{"id":59,"qty":2,"item":"Sanctuary Horn"},"material2":{"id":19,"qty":2,"item":"Island Clay"},"purposeCat":"Sundries","materialCat":"Creature Creations","rank":6,"time":6,"value":81,"material3":{"id":18,"qty":2,"item":"Island Hemp"}},{"id":32,"item":"Isleworks Salt Cod","material1":{"id":24,"qty":4,"item":"Islefish"},"material2":{"id":15,"qty":2,"item":"Island Rock Salt"},"purposeCat":"Preserved Food","materialCat":"Marine Merchandise","rank":7,"time":6,"value":54},{"id":33,"item":"Isleworks Squid Ink","material1":{"id":25,"qty":2,"item":"Island Squid"},"material2":{"id":15,"qty":2,"item":"Island Rock Salt"},"purposeCat":"Ingredients","materialCat":"Marine Merchandise","rank":7,"time":4,"value":36},{"id":34,"item":"Isleworks Essential Draught","material1":{"id":26,"qty":2,"item":"Island Jellyfish"},"material2":{"id":0,"qty":2,"item":"Island Palm Leaf"},"purposeCat":"Concoctions","materialCat":"Marine Merchandise","rank":7,"time":6,"value":54,"material3":{"id":5,"qty":2,"item":"Island Laver"}},{"id":35,"item":"Isleberry Jam","material1":{"id":44,"qty":3,"item":"Isleberry"},"material2":{"id":16,"qty":2,"item":"Island Sugarcane"},"purposeCat":"Ingredients","materialCat":"","rank":7,"time":6,"value":78,"material3":{"id":12,"qty":1,"item":"Island Sap"}},{"id":36,"item":"Isleworks Tomato Relish","material1":{"id":47,"qty":2,"item":"Island Tomato"},"material2":{"id":16,"qty":1,"item":"Island Sugarcane"},"purposeCat":"Ingredients","materialCat":"","rank":7,"time":4,"value":52,"material3":{"id":7,"qty":1,"item":"Islewort"}},{"id":37,"item":"Isleworks Onion Soup","material1":{"id":46,"qty":3,"item":"Island Onion"},"material2":{"id":15,"qty":2,"item":"Island Rock Salt"},"purposeCat":"Foodstuffs","materialCat":"","rank":7,"time":6,"value":78,"material3":{"id":7,"qty":1,"item":"Islewort"}},{"id":38,"item":"Islefish Pie","material1":{"id":48,"qty":3,"item":"Island Wheat"},"material2":{"id":24,"qty":2,"item":"Islefish"},"purposeCat":"Confections","materialCat":"Marine Merchandise","rank":7,"time":6,"value":78,"material3":{"id":16,"qty":1,"item":"Island Sugarcane"}},{"id":39,"item":"Isleworks Corn Flakes","material1":{"id":49,"qty":2,"item":"Island Corn"},"material2":{"id":16,"qty":2,"item":"Island Sugarcane"},"purposeCat":"Preserved Food","materialCat":"","rank":7,"time":4,"value":52},{"id":40,"item":"Isleworks Pickled Radish","material1":{"id":51,"qty":4,"item":"Island Radish"},"material2":{"id":1,"qty":2,"item":"Island Apple"},"purposeCat":"Preserved Food","materialCat":"","rank":7,"time":8,"value":104,"material3":{"id":16,"qty":2,"item":"Island Sugarcane"}},{"id":41,"item":"Isleworks Iron Axe","material1":{"id":21,"qty":3,"item":"Island Iron Ore"},"material2":{"id":9,"qty":3,"item":"Island Log"},"purposeCat":"Arms","materialCat":"Metalworks","rank":8,"time":8,"value":72,"material3":{"id":8,"qty":2,"item":"Island Sand"}},{"id":42,"item":"Isleworks Quartz Ring","material1":{"id":22,"qty":3,"item":"Island Quartz"},"material2":{"id":21,"qty":3,"item":"Island Iron Ore"},"purposeCat":"Accessories","materialCat":"Unburied Treasures","rank":8,"time":8,"value":72,"material3":{"id":3,"qty":2,"item":"Island Stone"}},{"id":43,"item":"Isleworks Porcelain Vase","material1":{"id":23,"qty":3,"item":"Island Leucogranite"},"material2":{"id":22,"qty":3,"item":"Island Quartz"},"purposeCat":"Sundries","materialCat":"Unburied Treasures","rank":8,"time":8,"value":72,"material3":{"id":19,"qty":2,"item":"Island Clay"}},{"id":44,"item":"Isleworks Vegetable Juice","material1":{"id":43,"qty":3,"item":"Island Cabbage"},"material2":{"id":7,"qty":2,"item":"Islewort"},"purposeCat":"Concoctions","materialCat":"","rank":8,"time":6,"value":78,"material3":{"id":5,"qty":1,"item":"Island Laver"}},{"id":45,"item":"Isleworks Pumpkin Pudding","material1":{"id":45,"qty":3,"item":"Island Pumpkin"},"material2":{"id":56,"qty":1,"item":"Sanctuary Egg"},"purposeCat":"Confections","materialCat":"","rank":8,"time":6,"value":78,"material3":{"id":60,"qty":1,"item":"Sanctuary Milk"}},{"id":46,"item":"Isleworks Sheepfluff Rug","material1":{"id":52,"qty":3,"item":"Sanctuary Fleece"},"material2":{"id":17,"qty":2,"item":"Island Cotton Boll"},"purposeCat":"Furnishings","materialCat":"Creature Creations","rank":8,"time":6,"value":90,"material3":{"id":18,"qty":1,"item":"Island Hemp"}},{"id":47,"item":"Isleworks Garden Scythe","material1":{"id":53,"qty":3,"item":"Sanctuary Claw"},"material2":{"id":21,"qty":2,"item":"Island Iron Ore"},"purposeCat":"Sundries","materialCat":"Metalworks","rank":9,"time":6,"value":90,"material3":{"id":10,"qty":1,"item":"Island Palm Log"}},{"id":48,"item":"Isleworks Bed","material1":{"id":54,"qty":4,"item":"Sanctuary Fur"},"material2":{"id":17,"qty":2,"item":"Island Cotton Boll"},"purposeCat":"Furnishings","materialCat":"Textiles","rank":9,"time":8,"value":120,"material3":{"id":9,"qty":2,"item":"Island Log"}},{"id":49,"item":"Isleworks Scale Fingers","material1":{"id":57,"qty":4,"item":"Sanctuary Carapace"},"material2":{"id":21,"qty":2,"item":"Island Iron Ore"},"purposeCat":"Attire","materialCat":"Creature Creations","rank":9,"time":8,"value":120,"material3":{"id":17,"qty":2,"item":"Island Cotton Boll"}},{"id":50,"item":"Isleworks Crook","material1":{"id":58,"qty":4,"item":"Sanctuary Fang"},"material2":{"id":22,"qty":2,"item":"Island Quartz"},"purposeCat":"Arms","materialCat":"Woodworks","rank":9,"time":8,"value":120,"material3":{"id":9,"qty":2,"item":"Island Log"}}]}');!function(e){e.UNKNOWN="",e.LOW="Low",e.AVERAGE="Average",e.HIGH="High",e.VERY_HIGH="Very High"}(M||(M={})),function(e){e.UNKNOWN="",e.NONEXISTENT="Nonexistent",e.INSUFFICIENT="Insufficient",e.SUFFICIENT="Sufficient",e.SURPLUS="Surplus",e.OVERFLOWING="Overflowing"}(H||(H={})),function(e){e.UNKNOWN="",e.PLUMMETING="Plummeting",e.DECREASING="Decreasing",e.NONE="None",e.INCREASING="Increasing",e.SKYROCKETING="Skyrocketing"}(B||(B={}));var D=new Map([[M.UNKNOWN,1],[M.LOW,.8],[M.AVERAGE,1],[M.HIGH,1.2],[M.VERY_HIGH,1.4]]),U=new Map([[H.UNKNOWN,1],[H.NONEXISTENT,1.6],[H.INSUFFICIENT,1.3],[H.SUFFICIENT,1],[H.SURPLUS,.8],[H.OVERFLOWING,.6]]);function G(e){return D.get(e.popularity)*U.get(e.supply)}function K(e){if(!e)return(0,r.jsx)(r.Fragment,{});var t=G(e),a=function(e){var t=G(e);if(1===t)return 0;if(t<1)return 100-(t-.48)/(2.24-.48)*100;return(t-.48)/(2.24-.48)*100}(e),i="",s="";t<1?(i="rgba(220, 53, 69, ".concat(a/100,")"),s="bi-arrow-down-circle-fill"):t>1&&(i="rgba(32, 201, 151, ".concat(a/100,")"),s="bi-arrow-up-circle-fill");var n={color:i};return(0,r.jsxs)("div",{className:L().modifier,children:[(0,r.jsx)("div",{className:"".concat(L()["icon-container"]),style:n,children:(0,r.jsx)("i",{className:"bi ".concat(s)})}),(0,r.jsx)("div",{children:t.toFixed(2)})]})}function Z(e){if(!(null===e||void 0===e?void 0:e.demandShift))return(0,r.jsx)(r.Fragment,{});var t="",a="";switch(e.demandShift){case B.SKYROCKETING:t="rgba(32, 201, 151, 1)",a="bi-arrow-up-circle-fill";break;case B.INCREASING:t="rgba(32, 201, 151, 0.6)",a="bi-arrow-up-right-circle-fill";break;case B.NONE:t="rgba(0, 0, 0, 0.5)",a="bi-dash-circle-fill";break;case B.DECREASING:t="rgba(220, 53, 69, 0.7)",a="bi-arrow-down-right-circle-fill";break;case B.PLUMMETING:t="rgba(220, 53, 69, 1)",a="bi-arrow-down-circle-fill"}var i={color:t};return(0,r.jsxs)("div",{className:L()["demand-shift"],children:[(0,r.jsx)("div",{className:"".concat(L()["icon-container"]),style:i,children:(0,r.jsx)("i",{className:"bi ".concat(a)})}),(0,r.jsx)("div",{children:e.demandShift})]})}function z(e){var t=e.rank,a=e.lastSelected,i=e.onSelectProduct,s=e.trendData,n=e.availableHours,o=function(e){var t=s.get(e.item);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("td",{children:e.item}),(0,r.jsx)("td",{children:e.time}),(0,r.jsx)("td",{children:e.value}),(0,r.jsx)("td",{children:K(t)}),(0,r.jsx)("td",{children:Z(t)})]})},d=(0,l.useState)(0),m=d[0],u=d[1],h=(0,l.useState)(V.R),p=h[0],y=h[1];return(0,l.useEffect)((function(){y(V.R.filter((function(e){return function(e,t,a,i,r){var s=e.id===(null===t||void 0===t?void 0:t.id),n=!t||e.purposeCat===t.purposeCat||!!e.materialCat&&e.materialCat===t.materialCat,l=a>=e.time,o=0===i||e.time===i,d=r>=e.rank;return!s&&n&&l&&o&&d}(e,a,n,m,t)})))}),[a,n,m,t]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:L()["select-filters"],children:[(0,r.jsx)("h5",{children:"Filters"}),(0,r.jsxs)(c.cw,{row:!0,children:[(0,r.jsx)(c.__,{for:"time-filter",size:"sm",md:4,children:"Time"}),(0,r.jsx)(c.JX,{md:8,children:(0,r.jsxs)(c.II,{id:"time-filter",type:"select",bsSize:"sm",onChange:function(e){var t=e.target.value;u(parseInt(t))},children:[(0,r.jsx)("option",{value:"0",children:"None"}),(0,r.jsx)("option",{value:"4",children:"4"}),(0,r.jsx)("option",{value:"6",children:"6"}),(0,r.jsx)("option",{value:"8",children:"8"})]})})]})]}),(0,r.jsx)("div",{className:L()["select-table"],children:(0,r.jsxs)(c.iA,{size:"sm",hover:!0,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:L()["col-product"],children:"Product"}),(0,r.jsx)("th",{className:L()["col-time"],children:"Time"}),(0,r.jsx)("th",{className:L()["col-value"],children:"Value"}),(0,r.jsx)("th",{className:L()["col-trend"],children:"Trend"}),(0,r.jsx)("th",{className:L()["col-shift"],children:"Demand Shift"})]})}),(0,r.jsx)("tbody",{children:p.map((function(e){return(0,r.jsx)("tr",{onClick:function(){return i(e)},children:o(e)},e.id)}))})]})})]})}var J=a(7632);var X=a(2670);function Q(e,t){return(0,X.Z)(t,Map)?{dataType:"Map",value:Array.from(t.entries())}:(0,X.Z)(t,Set)?{dataType:"Set",value:Array.from(t.entries())}:t}function Y(e,t){if("object"===typeof t&&null!==t){var a=t;if("dataType"in a&&"Map"===a.dataType)return new Map(a.value);if("dataType"in a&&"Set"===a.dataType)return new Set(a.value)}return t}var $,ee=function(e,t){var a=(0,l.useState)(t),i=a[0],r=a[1];return(0,l.useEffect)((function(){try{var t=localStorage.getItem(e);t&&r(JSON.parse(t,Y))}catch(a){console.error(a)}}),[]),(0,l.useEffect)((function(){localStorage.setItem(e,JSON.stringify(i,Q))}),[i,e]),[i,r]};function te(e){var t=e.storageKeyPrefix,a=e.sanctuaryInfo,s=e.trendData,n=(0,i.Z)(ee("".concat(t,"is-selected-products"),[]),2),o=n[0],d=n[1],m=(0,l.useState)(24),u=m[0],h=m[1],y=(0,l.useState)(0),k=y[0],f=y[1],I=(0,l.useState)($.BELOW),x=I[0],v=I[1],C=(0,l.useState)(!1),j=C[0],_=C[1],w=(0,l.useState)(),S=w[0],g=w[1],q=(0,l.useCallback)((function(){if(0===o.length)g(void 0);else{var e=x===$.BELOW?o[o.length-1]:o[0];g(e)}}),[x,o]),N=function(e){v((function(){return e})),_((function(e){return!e}))};return(0,l.useEffect)((function(){q()}),[q]),(0,l.useEffect)((function(){var e=o.reduce((function(e,t){return e+t.time}),0);h(24-e),f(e)}),[u,k,o]),(0,r.jsxs)("div",{children:[(0,r.jsx)(W,{availableHours:u,usedHours:k}),(0,r.jsxs)("div",{className:L()["add-btns"],children:[(0,r.jsx)("div",{children:(0,r.jsxs)(c.zx,{color:"primary",disabled:u<4,onClick:function(){return N($.BELOW)},children:["Add ",(0,r.jsx)("i",{className:"bi bi-arrow-down-circle-fill"})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)(c.zx,{color:"primary",disabled:u<4,onClick:function(){return N($.ABOVE)},children:["Add ",(0,r.jsx)("i",{className:"bi bi-arrow-up-circle-fill"})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)(c.zx,{color:"danger",disabled:0===o.length,onClick:function(){d([])},children:["Clear ",(0,r.jsx)("i",{className:"bi bi-x-circle-fill"})]})})]}),(0,r.jsx)("div",{className:L().scheduled,children:o.map((function(e,t){var a,i,s=(a=e,!!(i=o[t-1])&&(i.purposeCat===a.purposeCat||i.materialCat===a.materialCat)),n=100/(24/e.time);return(0,r.jsxs)("div",{className:L().timeslot,style:{height:"".concat(n,"%")},children:[(0,r.jsxs)("div",{className:L()["timeslot-header"],children:[(0,r.jsxs)("div",{className:L()["timeslot-icon"],children:[s&&(0,r.jsxs)("div",{id:e.key,className:L().bonus,children:[(0,r.jsx)("i",{className:"bi bi-stars"}),(0,r.jsx)(c.vg,{target:e.key,children:"Efficiency Bonus!"})]}),!s&&(0,r.jsx)("div",{id:e.key,className:L()["no-bonus"],children:(0,r.jsx)("i",{className:"bi bi-dash-lg"})})]}),(0,r.jsxs)("div",{className:L()["timeslot-title"],children:[(0,r.jsx)("span",{children:e.item})," (",e.time,")"]}),(0,r.jsx)("div",{className:L()["timeslot-remove"],children:(0,r.jsx)(c.PZ,{onClick:function(){return function(e){d((function(t){return t.splice(e,1),(0,b.Z)(t)}))}(t)}})})]}),(0,r.jsxs)("div",{className:L()["timeslot-categories"],children:[(0,r.jsx)(R,{option:{value:e.purposeCat,text:e.purposeCat,color:"light-blue"}}),e.materialCat&&(0,r.jsx)(R,{option:{value:e.materialCat,text:e.materialCat,color:"purple"}})]})]},e.key)}))}),(0,r.jsxs)(c.u_,{isOpen:j,toggle:function(){return _((function(e){return!e}))},size:"lg",centered:!0,children:[(0,r.jsx)(c.xB,{toggle:function(){return _((function(e){return!e}))},children:"Select Product"}),(0,r.jsx)("div",{className:"".concat(L()["table-sticky"]),children:(0,r.jsx)(W,{availableHours:u,usedHours:k})}),(0,r.jsx)(c.fe,{children:(0,r.jsx)(z,{rank:a.rank,onSelectProduct:function(e){d((function(t){var a,i=(0,p.Z)({key:(a="is","".concat(a||"id","-").concat((0,J.Z)()))},e);return x===$.BELOW?(0,b.Z)(t).concat([i]):[i].concat((0,b.Z)(t))}))},lastSelected:S,trendData:s,availableHours:u,usedHours:k})})]})]})}!function(e){e[e.ABOVE=0]="ABOVE",e[e.BELOW=1]="BELOW"}($||($={}));var ae,ie="Island Sanctuary Planner";!function(e){e[e.WORKSHOPS=0]="WORKSHOPS",e[e.TREND_DATA=1]="TREND_DATA"}(ae||(ae={}));var re={rank:1,workshop1Level:1,workshop2Level:1,workshop3Level:1},se=function(){var e=(0,l.useState)(ae.WORKSHOPS),t=e[0],a=e[1],s=(0,l.useState)("View Trends"),o=s[0],d=s[1],u=(0,i.Z)(ee("is-trend-data",new Map),2),p=u[0],y=u[1],k=(0,i.Z)(ee("is-sanctuary",n().cloneDeep(re)),2),f=k[0],I=k[1];return(0,r.jsx)(j,{layoutProps:{title:ie,description:"Workshop Helper"},children:(0,r.jsxs)("main",{children:[(0,r.jsx)(m,{title:ie,children:(0,r.jsx)(g,{sanctuary:f,setSanctuary:I})}),(0,r.jsxs)("div",{className:"".concat(N().container),children:[(0,r.jsxs)("div",{className:N()["trend-controls"],children:[(0,r.jsx)(h,{setTrendData:y}),(0,r.jsx)(c.zx,{onClick:function(){t===ae.WORKSHOPS?(a(ae.TREND_DATA),d("View Workshops")):(a(ae.WORKSHOPS),d("View Trends"))},children:o})]}),(0,r.jsx)("div",{className:"spacer2"}),t===ae.WORKSHOPS&&(0,r.jsxs)("div",{className:"".concat(N().workshops," row"),children:[(0,r.jsxs)("div",{className:"".concat(N().workshop),children:[(0,r.jsx)("h3",{children:"Workshop 1"}),(0,r.jsx)(te,{storageKeyPrefix:"w1-",sanctuaryInfo:f,trendData:p})]}),(0,r.jsxs)("div",{className:"".concat(N().workshop),children:[(0,r.jsx)("h3",{children:"Workshop 2"}),(0,r.jsx)(te,{storageKeyPrefix:"w2-",sanctuaryInfo:f,trendData:p})]}),(0,r.jsxs)("div",{className:"".concat(N().workshop),children:[(0,r.jsx)("h3",{children:"Workshop 3"}),(0,r.jsx)(te,{storageKeyPrefix:"w3-",sanctuaryInfo:f,trendData:p})]})]}),t===ae.TREND_DATA&&(0,r.jsx)(T,{trendData:p})]})]})})}},4279:function(e){e.exports={chip:"chip_chip__sLcdp","chip-text":"chip_chip-text__firTk","chip-close":"chip_chip-close__19AWb","chip-close-btn":"chip_chip-close-btn__C2cUw"}},1867:function(e){e.exports={header:"header_header__kWrF4","header-icon":"header_header-icon__V_gLh"}},8826:function(e){e.exports={toast:"layout_toast__uV9_a",footer:"layout_footer__U7ng8",credit:"layout_credit__8kaNA"}},861:function(e){e.exports={rank:"main-menu_rank__K62Xu","main-menu":"main-menu_main-menu__jlAKB","main-menu-button":"main-menu_main-menu-button__K7qwu","dropdown-menu":"main-menu_dropdown-menu__DrX6O"}},8171:function(e){e.exports={"trend-data":"trend_trend-data__u7Ceb"}},7561:function(e){e.exports={hours:"workshop_hours__gZchb",digits:"workshop_digits__9XwwR","add-btns":"workshop_add-btns__TcUEL",scheduled:"workshop_scheduled__rRg15",timeslot:"workshop_timeslot__qInIM","timeslot-header":"workshop_timeslot-header__oBZLq","timeslot-title":"workshop_timeslot-title__kTCip","timeslot-icon":"workshop_timeslot-icon__tuDRM",bonus:"workshop_bonus__X5flN","no-bonus":"workshop_no-bonus__GpFPz","timeslot-categories":"workshop_timeslot-categories__taFTs","timeslot-remove":"workshop_timeslot-remove__7XBZ3","remove-btn":"workshop_remove-btn__5tVAS","table-sticky":"workshop_table-sticky__75Juj","select-filters":"workshop_select-filters__1fmGw","select-table":"workshop_select-table__5TWTv","col-product":"workshop_col-product___4EW_","col-time":"workshop_col-time__PuYNb","col-value":"workshop_col-value__T6kpd","col-trend":"workshop_col-trend__Duk7j","col-shift":"workshop_col-shift__fisNQ",modifier:"workshop_modifier__XAwKm","demand-shift":"workshop_demand-shift__V_IE6","icon-container":"workshop_icon-container__WmQHb",red:"workshop_red__m9uhG","red-light":"workshop_red-light__G5C6Y",teal:"workshop_teal__2YcIy","teal-light":"workshop_teal-light__l8Sdc",white:"workshop_white__REAWd"}},4703:function(e){e.exports={container:"ffxiv_container__LgI_h","trend-controls":"ffxiv_trend-controls__JZMlk",workshops:"ffxiv_workshops__5Up9s",workshop:"ffxiv_workshop__QPaQf"}}},function(e){e.O(0,[260,662,76,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);